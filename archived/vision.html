<!DOCTYPE html>
<html lang="ko" data-theme="dark-kernel">
<head>
<script>
(function(){var m=document.cookie.match(/claude_theme=([^;]+)/);if(m)document.documentElement.setAttribute('data-theme',m[1]);})();
</script>
<meta charset="UTF-8">
<meta property="og:type" content="article">
<meta property="og:site_name" content="Claude 문서 /with MINZKN">
<meta property="og:title" content="Vision - Claude 문서">
<meta property="og:description" content="Claude 비전 기능으로 이미지 분석, 차트 해석, 문서 OCR 수행하기">
<meta property="og:url" content="https://minzkn.com/claude/pages/vision.html">
<meta property="og:image" content="https://minzkn.com/claude/images/og-image.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Claude 비전 기능으로 이미지 분석, 차트 해석, 문서 OCR 수행하기">
<meta name="keywords" content="Claude, vision, image analysis, OCR, 비전, 이미지 분석">
<meta name="author" content="MINZKN">
<title>Vision - Claude 문서 /with MINZKN</title>
<link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/joungkyun/font-d2coding/d2coding.css">
<link rel="stylesheet" href="../css/themes.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
<div class="page-wrapper">

<header class="site-header"></header>
<nav class="side-nav" aria-label="사이트 내비게이션"></nav>

<main class="main-content">

<nav class="breadcrumb"></nav>

<section class="content-section">
  <h1 id="top">Vision (비전)</h1>
  <p class="lead">
    Claude의 비전 기능을 사용하면 이미지를 입력으로 제공하여 시각 정보를 분석하고 이해할 수 있습니다.
    차트 해석, 문서 OCR, 스크린샷 분석 등 다양한 작업이 가능합니다.
  </p>
</section>

<section class="content-section">
  <h2 id="quick-start">처음 시작하기 (3단계)</h2>

  <div class="info-box tip">
    <div class="info-box-title">🎓 처음 Vision을 사용하시나요?</div>
    <p><strong>3단계로 첫 이미지 분석:</strong></p>
    <ol>
      <li><strong>이미지 준비</strong> - JPEG/PNG 파일 (최대 5MB)</li>
      <li><strong>Base64 인코딩</strong> - Python: <code>base64.standard_b64encode(file.read())</code></li>
      <li><strong>메시지 전송</strong> - <code>content</code> 배열에 <code>type: "image"</code> 추가</li>
    </ol>
    <p style="margin-top: 1em;">
      💡 <strong>핵심 개념</strong>: 텍스트 대화와 동일한 API (<code>/v1/messages</code>)를 사용하며, <code>content</code> 배열에 이미지를 추가하기만 하면 됩니다!
    </p>
  </div>
</section>

<section class="content-section">
  <h2 id="overview">개요</h2>
  <p>
    Claude 3 모델부터 비전 기능이 추가되어 텍스트와 이미지를 함께 처리할 수 있습니다.
    이미지는 메시지의 <code>content</code> 배열에 추가하여 전송합니다.
  </p>

  <div class="info-box info">
    <div class="info-box-title">💡 주요 활용 사례</div>
    <ul>
      <li><strong>문서 분석</strong>: PDF, 스캔 문서, 영수증 OCR</li>
      <li><strong>차트/그래프</strong>: 데이터 시각화 해석</li>
      <li><strong>UI/UX</strong>: 스크린샷 분석, 디자인 피드백</li>
      <li><strong>교육</strong>: 다이어그램, 수식, 문제 풀이</li>
      <li><strong>코딩</strong>: 화면 캡처에서 코드 추출</li>
    </ul>
  </div>

  <!-- Vision Processing Pipeline Diagram -->
  <div class="diagram-container">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 380"
         style="width:100%;max-width:750px;display:block;margin:1.5em auto;">
      <defs>
        <marker id="vision-arrow" viewBox="0 0 10 7" refX="10" refY="3.5"
                markerWidth="10" markerHeight="7" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="var(--diagram-arrow)"/>
        </marker>
      </defs>

      <!-- Step 1: Image Input -->
      <rect x="30" y="30" width="140" height="90" rx="8"
            fill="var(--bg-secondary)" stroke="var(--accent-primary)" stroke-width="2"/>
      <text x="100" y="55" text-anchor="middle" fill="var(--accent-primary)" font-size="16" font-weight="bold">
        1
      </text>
      <text x="100" y="75" text-anchor="middle" fill="var(--diagram-text)" font-size="12" font-weight="bold">
        이미지 입력
      </text>
      <text x="100" y="93" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        JPEG / PNG /
      </text>
      <text x="100" y="107" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        GIF / WebP
      </text>

      <!-- Arrow 1→2 -->
      <line x1="170" y1="75" x2="220" y2="75"
            stroke="var(--diagram-arrow)" stroke-width="2" marker-end="url(#vision-arrow)"/>

      <!-- Step 2: Encoding -->
      <rect x="220" y="30" width="140" height="90" rx="8"
            fill="var(--bg-secondary)" stroke="var(--accent-primary)" stroke-width="2"/>
      <text x="290" y="55" text-anchor="middle" fill="var(--accent-primary)" font-size="16" font-weight="bold">
        2
      </text>
      <text x="290" y="75" text-anchor="middle" fill="var(--diagram-text)" font-size="12" font-weight="bold">
        Base64 인코딩
      </text>
      <text x="290" y="93" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        또는
      </text>
      <text x="290" y="107" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        URL 제공
      </text>

      <!-- Arrow 2→3 -->
      <line x1="360" y1="75" x2="410" y2="75"
            stroke="var(--diagram-arrow)" stroke-width="2" marker-end="url(#vision-arrow)"/>

      <!-- Step 3: API Request -->
      <rect x="410" y="30" width="140" height="90" rx="8"
            fill="var(--bg-secondary)" stroke="var(--accent-primary)" stroke-width="2"/>
      <text x="480" y="55" text-anchor="middle" fill="var(--accent-primary)" font-size="16" font-weight="bold">
        3
      </text>
      <text x="480" y="75" text-anchor="middle" fill="var(--diagram-text)" font-size="12" font-weight="bold">
        API 요청
      </text>
      <text x="480" y="93" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        messages: [
      </text>
      <text x="480" y="107" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        { type: "image", ... }]
      </text>

      <!-- Arrow 3→4 (downward) -->
      <line x1="480" y1="120" x2="480" y2="160"
            stroke="var(--diagram-arrow)" stroke-width="2" marker-end="url(#vision-arrow)"/>

      <!-- Step 4: Claude Analysis -->
      <rect x="410" y="160" width="140" height="90" rx="8"
            fill="var(--accent-primary)" fill-opacity="0.2"
            stroke="var(--accent-primary)" stroke-width="2"/>
      <text x="480" y="185" text-anchor="middle" fill="var(--accent-primary)" font-size="16" font-weight="bold">
        4
      </text>
      <text x="480" y="205" text-anchor="middle" fill="var(--diagram-text)" font-size="12" font-weight="bold">
        Claude 분석
      </text>
      <text x="480" y="223" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        Vision Model
      </text>
      <text x="480" y="237" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        이미지 이해
      </text>

      <!-- Arrow 4→5 (leftward) -->
      <line x1="410" y1="205" x2="360" y2="205"
            stroke="var(--diagram-arrow)" stroke-width="2" marker-end="url(#vision-arrow)"/>

      <!-- Step 5: Text Response -->
      <rect x="220" y="160" width="140" height="90" rx="8"
            fill="var(--bg-secondary)" stroke="var(--accent-primary)" stroke-width="2"/>
      <text x="290" y="185" text-anchor="middle" fill="var(--accent-primary)" font-size="16" font-weight="bold">
        5
      </text>
      <text x="290" y="205" text-anchor="middle" fill="var(--diagram-text)" font-size="12" font-weight="bold">
        텍스트 응답
      </text>
      <text x="290" y="223" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        이미지 내용
      </text>
      <text x="290" y="237" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        설명/분석 결과
      </text>

      <!-- Use Cases -->
      <text x="375" y="290" text-anchor="middle" fill="var(--accent-primary)" font-size="13" font-weight="bold">
        주요 활용 사례
      </text>

      <!-- Use Case 1: OCR -->
      <rect x="30" y="305" width="130" height="55" rx="6"
            fill="var(--bg-secondary)" stroke="var(--border-color)" stroke-width="1.5"/>
      <text x="95" y="325" text-anchor="middle" fill="var(--diagram-text)" font-size="11" font-weight="bold">
        📄 OCR
      </text>
      <text x="95" y="342" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        문서, 영수증,
      </text>
      <text x="95" y="354" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        스캔 이미지
      </text>

      <!-- Use Case 2: Charts -->
      <rect x="175" y="305" width="130" height="55" rx="6"
            fill="var(--bg-secondary)" stroke="var(--border-color)" stroke-width="1.5"/>
      <text x="240" y="325" text-anchor="middle" fill="var(--diagram-text)" font-size="11" font-weight="bold">
        📊 차트 해석
      </text>
      <text x="240" y="342" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        그래프, 표,
      </text>
      <text x="240" y="354" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        데이터 시각화
      </text>

      <!-- Use Case 3: UI -->
      <rect x="320" y="305" width="130" height="55" rx="6"
            fill="var(--bg-secondary)" stroke="var(--border-color)" stroke-width="1.5"/>
      <text x="385" y="325" text-anchor="middle" fill="var(--diagram-text)" font-size="11" font-weight="bold">
        🎨 UI 분석
      </text>
      <text x="385" y="342" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        스크린샷,
      </text>
      <text x="385" y="354" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        디자인 피드백
      </text>

      <!-- Use Case 4: Code -->
      <rect x="465" y="305" width="130" height="55" rx="6"
            fill="var(--bg-secondary)" stroke="var(--border-color)" stroke-width="1.5"/>
      <text x="530" y="325" text-anchor="middle" fill="var(--diagram-text)" font-size="11" font-weight="bold">
        💻 코드 추출
      </text>
      <text x="530" y="342" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        화면 캡처,
      </text>
      <text x="530" y="354" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        다이어그램
      </text>

      <!-- Use Case 5: Education -->
      <rect x="610" y="305" width="130" height="55" rx="6"
            fill="var(--bg-secondary)" stroke="var(--border-color)" stroke-width="1.5"/>
      <text x="675" y="325" text-anchor="middle" fill="var(--diagram-text)" font-size="11" font-weight="bold">
        📚 교육
      </text>
      <text x="675" y="342" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        수학 문제,
      </text>
      <text x="675" y="354" text-anchor="middle" fill="var(--text-secondary)" font-size="9">
        과학 실험
      </text>
    </svg>
    <p class="diagram-caption">그림 1: Claude Vision 이미지 처리 파이프라인 및 주요 활용 사례</p>
  </div>
</section>

<section class="content-section">
  <h2 id="supported-formats">지원 형식</h2>
  <p>Claude가 지원하는 이미지 형식 (4가지):</p>

  <table>
    <thead>
      <tr>
        <th>형식</th>
        <th>MIME 타입</th>
        <th>특징</th>
        <th>권장 용도</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>📷 JPEG</strong></td>
        <td><code>image/jpeg</code></td>
        <td>손실 압축, 작은 파일 크기</td>
        <td>사진, 스크린샷</td>
      </tr>
      <tr>
        <td><strong>🖼️ PNG</strong></td>
        <td><code>image/png</code></td>
        <td>무손실, 투명 배경 지원</td>
        <td>다이어그램, 로고, UI</td>
      </tr>
      <tr>
        <td><strong>🎞️ GIF</strong></td>
        <td><code>image/gif</code></td>
        <td>첫 프레임만 처리 (애니메이션 ✗)</td>
        <td>간단한 그래픽</td>
      </tr>
      <tr>
        <td><strong>🌐 WebP</strong></td>
        <td><code>image/webp</code></td>
        <td>최신 압축, 작은 크기</td>
        <td>웹 이미지</td>
      </tr>
    </tbody>
  </table>

  <div class="info-box warning">
    <div class="info-box-title">⚠️ 제한사항</div>
    <ul>
      <li>최대 이미지 크기: <strong>5MB</strong> (파일 하나당)</li>
      <li>한 요청에 최대 <strong>20개</strong> 이미지</li>
      <li>모든 이미지는 <strong>Base64 인코딩</strong> 또는 <strong>URL</strong>로 제공</li>
      <li>GIF 애니메이션은 <strong>첫 프레임만</strong> 처리 (동영상은 지원 안 함)</li>
      <li>최소 해상도: 없음 / 최대 해상도: 모델별 상한 (일반적으로 수천 픽셀)</li>
    </ul>
  </div>

  <div class="info-box info">
    <div class="info-box-title">💡 이미지 크기 최적화 팁</div>
    <ul>
      <li><strong>고해상도 불필요</strong>: 대부분의 경우 1920x1080 이하면 충분</li>
      <li><strong>압축 권장</strong>: 5MB 제한을 넘지 않도록 사전 압축</li>
      <li><strong>불필요한 부분 제거</strong>: 관심 영역만 크롭하여 전송</li>
      <li><strong>OCR 최적화</strong>: 텍스트 추출 목적이라면 명암 대비를 높이기</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="basic-usage">기본 사용법</h2>

  <h3 id="base64-encoding">Base64 인코딩 방식</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code><span class="kw">import</span> anthropic
<span class="kw">import</span> base64

<span class="cmt"># 이미지 파일을 Base64로 인코딩</span>
<span class="kw">with</span> <span class="fn">open</span>(<span class="str">"chart.png"</span>, <span class="str">"rb"</span>) <span class="kw">as</span> image_file:
    image_data = base64.standard_b64encode(image_file.read()).decode(<span class="str">"utf-8"</span>)

client = anthropic.Anthropic(api_key=<span class="str">"your-api-key"</span>)

message = client.messages.create(
    model=<span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens=<span class="num">1024</span>,
    messages=[
        {
            <span class="str">"role"</span>: <span class="str">"user"</span>,
            <span class="str">"content"</span>: [
                {
                    <span class="str">"type"</span>: <span class="str">"image"</span>,
                    <span class="str">"source"</span>: {
                        <span class="str">"type"</span>: <span class="str">"base64"</span>,
                        <span class="str">"media_type"</span>: <span class="str">"image/png"</span>,
                        <span class="str">"data"</span>: image_data
                    }
                },
                {
                    <span class="str">"type"</span>: <span class="str">"text"</span>,
                    <span class="str">"text"</span>: <span class="str">"이 차트의 주요 트렌드를 분석해주세요."</span>
                }
            ]
        }
    ]
)

<span class="fn">print</span>(message.content[<span class="num">0</span>].text)</code></pre>
  </div>

  <h3 id="url-method">URL 방식 (이미지 URL 직접 제공)</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code>message = client.messages.create(
    model=<span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens=<span class="num">1024</span>,
    messages=[
        {
            <span class="str">"role"</span>: <span class="str">"user"</span>,
            <span class="str">"content"</span>: [
                {
                    <span class="str">"type"</span>: <span class="str">"image"</span>,
                    <span class="str">"source"</span>: {
                        <span class="str">"type"</span>: <span class="str">"url"</span>,
                        <span class="str">"url"</span>: <span class="str">"https://example.com/image.png"</span>
                    }
                },
                {
                    <span class="str">"type"</span>: <span class="str">"text"</span>,
                    <span class="str">"text"</span>: <span class="str">"이 이미지를 설명해주세요."</span>
                }
            ]
        }
    ]
)</code></pre>
  </div>

  <div class="info-box tip">
    <div class="info-box-title">💡 Base64 vs URL</div>
    <ul>
      <li><strong>Base64</strong>: 로컬 파일, 비공개 이미지에 적합</li>
      <li><strong>URL</strong>: 공개 URL이 있는 이미지에 적합 (더 효율적)</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="multiple-images">다중 이미지</h2>
  <p>여러 이미지를 함께 분석할 수 있습니다:</p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code>message = client.messages.create(
    model=<span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens=<span class="num">2048</span>,
    messages=[
        {
            <span class="str">"role"</span>: <span class="str">"user"</span>,
            <span class="str">"content"</span>: [
                {
                    <span class="str">"type"</span>: <span class="str">"text"</span>,
                    <span class="str">"text"</span>: <span class="str">"이 두 디자인을 비교하고 차이점을 설명해주세요."</span>
                },
                {
                    <span class="str">"type"</span>: <span class="str">"image"</span>,
                    <span class="str">"source"</span>: {<span class="str">"type"</span>: <span class="str">"base64"</span>, <span class="str">"media_type"</span>: <span class="str">"image/png"</span>, <span class="str">"data"</span>: image1_data}
                },
                {
                    <span class="str">"type"</span>: <span class="str">"image"</span>,
                    <span class="str">"source"</span>: {<span class="str">"type"</span>: <span class="str">"base64"</span>, <span class="str">"media_type"</span>: <span class="str">"image/png"</span>, <span class="str">"data"</span>: image2_data}
                }
            ]
        }
    ]
)</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="use-cases">활용 사례</h2>

  <h3 id="document-ocr">문서 OCR</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">프롬프트</span>
    </div>
    <pre><code>이 영수증에서 다음 정보를 JSON 형식으로 추출해주세요:
- 상점 이름
- 날짜
- 총액
- 품목 리스트 (각 품목의 이름, 수량, 가격)</code></pre>
  </div>

  <h3 id="chart-analysis">차트 분석</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">프롬프트</span>
    </div>
    <pre><code>이 매출 차트를 분석하고 다음을 제공해주세요:
1. 주요 트렌드 (상승/하락)
2. 최고점과 최저점
3. 계절성 패턴 (있다면)
4. 향후 3개월 예측</code></pre>
  </div>

  <h3 id="code-screenshot">코드 스크린샷</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">프롬프트</span>
    </div>
    <pre><code>이 코드 스크린샷을 보고 다음을 수행해주세요:
1. 코드를 텍스트로 추출
2. 버그나 개선점 찾기
3. 리팩토링 제안</code></pre>
  </div>

  <h3 id="diagram-explanation">다이어그램 설명</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">프롬프트</span>
    </div>
    <pre><code>이 시스템 아키텍처 다이어그램을 설명해주세요:
- 주요 컴포넌트
- 데이터 흐름
- 각 계층의 역할
- 잠재적 병목 지점</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="typescript-example">TypeScript 예제</h2>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code><span class="kw">import</span> Anthropic <span class="kw">from</span> <span class="str">"@anthropic-ai/sdk"</span>;
<span class="kw">import</span> fs <span class="kw">from</span> <span class="str">"fs"</span>;

<span class="kw">const</span> client = <span class="kw">new</span> Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY,
});

<span class="cmt">// 이미지를 Base64로 읽기</span>
<span class="kw">const</span> imageData = fs.readFileSync(<span class="str">"./diagram.png"</span>).toString(<span class="str">"base64"</span>);

<span class="kw">const</span> message = <span class="kw">await</span> client.messages.create({
  model: <span class="str">"claude-sonnet-4-5-20250929"</span>,
  max_tokens: <span class="num">1024</span>,
  messages: [
    {
      role: <span class="str">"user"</span>,
      content: [
        {
          type: <span class="str">"image"</span>,
          source: {
            type: <span class="str">"base64"</span>,
            media_type: <span class="str">"image/png"</span>,
            data: imageData,
          },
        },
        {
          type: <span class="str">"text"</span>,
          text: <span class="str">"이 다이어그램의 주요 구성요소를 설명해주세요."</span>,
        },
      ],
    },
  ],
});

console.log(message.content[<span class="num">0</span>].text);</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="best-practices">모범 사례</h2>

  <div class="info-box info">
    <div class="info-box-title">✅ 권장사항</div>
    <ul>
      <li><strong>고품질 이미지</strong>: 선명하고 읽기 쉬운 이미지 사용</li>
      <li><strong>적절한 크기</strong>: 필요 이상으로 큰 이미지는 리사이징</li>
      <li><strong>명확한 질문</strong>: 이미지에서 원하는 정보를 구체적으로 요청</li>
      <li><strong>컨텍스트 제공</strong>: 이미지의 배경 정보를 함께 제공</li>
      <li><strong>구조화된 출력</strong>: JSON 등 원하는 출력 형식 명시</li>
    </ul>
  </div>

  <div class="info-box warning">
    <div class="info-box-title">⚠️ 주의사항</div>
    <ul>
      <li>개인정보나 민감한 정보가 포함된 이미지 주의</li>
      <li>저작권이 있는 이미지 사용 시 권리 확인</li>
      <li>복잡한 이미지는 여러 부분으로 나누어 분석</li>
      <li>OCR 정확도는 이미지 품질에 크게 의존</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="limitations">제한사항 및 알아두기</h2>

  <h3 id="what-claude-can">Claude가 할 수 있는 것</h3>
  <ul>
    <li>텍스트 추출 및 OCR</li>
    <li>차트, 그래프 데이터 해석</li>
    <li>다이어그램, 플로차트 이해</li>
    <li>UI/스크린샷 분석</li>
    <li>사진의 객체, 장면 설명</li>
    <li>문서 레이아웃 이해</li>
  </ul>

  <h3 id="what-claude-cannot">Claude가 할 수 없는 것</h3>
  <ul>
    <li>사람 얼굴 인식/식별 (개인정보 보호)</li>
    <li>지리적 위치 정확한 특정</li>
    <li>매우 작거나 흐릿한 텍스트</li>
    <li>복잡한 수학 방정식 (간단한 것은 가능)</li>
  </ul>
</section>

<section class="content-section">
  <h2 id="hands-on">직접 해보기: 이미지 설명 생성기 (5분)</h2>
  <p>
    간단한 Python 스크립트로 로컬 이미지를 분석해보세요.
  </p>

  <div class="info-box tip">
    <div class="info-box-title">🎯 학습 목표</div>
    <ul>
      <li>이미지 파일을 Base64로 인코딩하는 방법</li>
      <li>Vision API 요청 구조 이해</li>
      <li>다양한 프롬프트로 다른 결과 얻기</li>
    </ul>
  </div>

  <h3 id="hands-on-step1">1단계: 환경 준비</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Bash</span>
    </div>
    <pre><code><span class="cmt"># Python SDK 설치</span>
pip install anthropic

<span class="cmt"># API 키 설정</span>
<span class="kw">export</span> ANTHROPIC_API_KEY=<span class="str">"sk-ant-api03-YOUR_KEY"</span>

<span class="cmt"># 테스트 이미지 준비 (예: screenshot.png)</span></code></pre>
  </div>

  <h3 id="hands-on-step2">2단계: 완전한 예제 코드</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python (vision_demo.py)</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code><span class="kw">import</span> anthropic
<span class="kw">import</span> base64
<span class="kw">import</span> sys

<span class="kw">def</span> <span class="fn">analyze_image</span>(image_path: <span class="type">str</span>, prompt: <span class="type">str</span> = <span class="str">"이 이미지를 자세히 설명해주세요."</span>):
    <span class="str">"""이미지를 분석하고 결과를 출력"""</span>

    <span class="cmt"># 1. 이미지 읽기 및 Base64 인코딩</span>
    <span class="kw">with</span> <span class="fn">open</span>(image_path, <span class="str">"rb"</span>) <span class="kw">as</span> f:
        image_data = base64.standard_b64encode(f.read()).decode(<span class="str">"utf-8"</span>)

    <span class="cmt"># 2. 파일 확장자로 MIME 타입 결정</span>
    ext = image_path.split(<span class="str">"."</span>)[<span class="kw">-</span><span class="num">1</span>].lower()
    mime_types = {
        <span class="str">"jpg"</span>: <span class="str">"image/jpeg"</span>,
        <span class="str">"jpeg"</span>: <span class="str">"image/jpeg"</span>,
        <span class="str">"png"</span>: <span class="str">"image/png"</span>,
        <span class="str">"gif"</span>: <span class="str">"image/gif"</span>,
        <span class="str">"webp"</span>: <span class="str">"image/webp"</span>,
    }
    media_type = mime_types.get(ext, <span class="str">"image/png"</span>)

    <span class="cmt"># 3. API 클라이언트 생성</span>
    client = anthropic.Anthropic()

    <span class="cmt"># 4. 이미지와 함께 메시지 전송</span>
    <span class="fn">print</span>(<span class="str">f"📷 분석 중: </span>{image_path}<span class="str">"</span>)
    <span class="fn">print</span>(<span class="str">f"💬 프롬프트: </span>{prompt}<span class="str">\n"</span>)

    message = client.messages.create(
        model=<span class="str">"claude-sonnet-4-5-20250929"</span>,
        max_tokens=<span class="num">1024</span>,
        messages=[
            {
                <span class="str">"role"</span>: <span class="str">"user"</span>,
                <span class="str">"content"</span>: [
                    {
                        <span class="str">"type"</span>: <span class="str">"image"</span>,
                        <span class="str">"source"</span>: {
                            <span class="str">"type"</span>: <span class="str">"base64"</span>,
                            <span class="str">"media_type"</span>: media_type,
                            <span class="str">"data"</span>: image_data,
                        },
                    },
                    {
                        <span class="str">"type"</span>: <span class="str">"text"</span>,
                        <span class="str">"text"</span>: prompt,
                    },
                ],
            }
        ],
    )

    <span class="cmt"># 5. 결과 출력</span>
    <span class="fn">print</span>(<span class="str">"🤖 Claude 응답:"</span>)
    <span class="fn">print</span>(message.content[<span class="num">0</span>].text)
    <span class="fn">print</span>(<span class="str">f"\n📊 사용량: </span>{message.usage.input_tokens}<span class="str"> 입력 토큰, </span>{message.usage.output_tokens}<span class="str"> 출력 토큰"</span>)

<span class="kw">if</span> __name__ == <span class="str">"__main__"</span>:
    <span class="kw">if</span> <span class="fn">len</span>(sys.argv) < <span class="num">2</span>:
        <span class="fn">print</span>(<span class="str">"사용법: python vision_demo.py &lt;이미지 경로&gt; [프롬프트]"</span>)
        sys.exit(<span class="num">1</span>)

    image_path = sys.argv[<span class="num">1</span>]
    prompt = sys.argv[<span class="num">2</span>] <span class="kw">if</span> <span class="fn">len</span>(sys.argv) > <span class="num">2</span> <span class="kw">else</span> <span class="str">"이 이미지를 자세히 설명해주세요."</span>

    <span class="fn">analyze_image</span>(image_path, prompt)</code></pre>
  </div>

  <h3 id="hands-on-step3">3단계: 실행 예제</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Bash</span>
    </div>
    <pre><code><span class="cmt"># 기본 이미지 설명</span>
python vision_demo.py screenshot.png

<span class="cmt"># 맞춤 프롬프트 (OCR)</span>
python vision_demo.py receipt.jpg <span class="str">"이 영수증에서 모든 텍스트를 추출해주세요."</span>

<span class="cmt"># 차트 분석</span>
python vision_demo.py chart.png <span class="str">"이 차트의 주요 트렌드를 3가지 포인트로 요약해주세요."</span>

<span class="cmt"># 코드 추출</span>
python vision_demo.py code_screenshot.png <span class="str">"이 코드를 마크다운 코드 블록으로 추출해주세요."</span></code></pre>
  </div>

  <h3 id="hands-on-advanced">도전 과제</h3>
  <div class="info-box tip">
    <div class="info-box-title">🚀 더 나아가기</div>
    <ol>
      <li><strong>여러 이미지 비교</strong>: 두 스크린샷의 차이점 찾기</li>
      <li><strong>JSON 출력</strong>: OCR 결과를 구조화된 JSON으로 요청</li>
      <li><strong>웹 URL 사용</strong>: Base64 대신 <code>type: "url"</code> 사용해보기</li>
      <li><strong>스트리밍</strong>: <code>client.messages.stream()</code>로 실시간 응답</li>
    </ol>
  </div>
</section>

<nav class="page-nav"></nav>

</main>

<aside class="inline-toc"></aside>
<footer class="site-footer"></footer>

</div>
<script src="../js/main.js"></script>
</body>
</html>
