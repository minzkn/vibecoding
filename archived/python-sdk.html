<!DOCTYPE html>
<html lang="ko" data-theme="dark-kernel">
<head>
<script>
(function(){var m=document.cookie.match(/claude_theme=([^;]+)/);if(m)document.documentElement.setAttribute('data-theme',m[1]);})();
</script>
<meta charset="UTF-8">
<meta property="og:type" content="article">
<meta property="og:site_name" content="Claude ë¬¸ì„œ /with MINZKN">
<meta property="og:title" content="Python SDK - Claude ë¬¸ì„œ">
<meta property="og:description" content="Claude Python SDK ì™„ë²½ ê°€ì´ë“œ - ì„¤ì¹˜ë¶€í„° ê³ ê¸‰ í™œìš©ê¹Œì§€">
<meta property="og:url" content="https://minzkn.com/claude/pages/python-sdk.html">
<meta property="og:image" content="https://minzkn.com/claude/images/og-image.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Claude Python SDK ì™„ë²½ ê°€ì´ë“œ - ì„¤ì¹˜ë¶€í„° ê³ ê¸‰ í™œìš©ê¹Œì§€">
<meta name="keywords" content="Python SDK, Anthropic, Claude API, íŒŒì´ì¬">
<meta name="author" content="MINZKN">
<title>Python SDK - Claude ë¬¸ì„œ /with MINZKN</title>
<link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/joungkyun/font-d2coding/d2coding.css">
<link rel="stylesheet" href="../css/themes.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
<div class="page-wrapper">

<header class="site-header"></header>
<nav class="side-nav" aria-label="ì‚¬ì´íŠ¸ ë‚´ë¹„ê²Œì´ì…˜"></nav>

<main class="main-content">

<nav class="breadcrumb"></nav>

<section class="content-section">
  <h1 id="top">Python SDK</h1>
  <p class="lead">
    Anthropicì˜ ê³µì‹ Python SDKë¥¼ ì‚¬ìš©í•˜ë©´ Python ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Claude APIë¥¼ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    ê°„ê²°í•œ ì¸í„°í˜ì´ìŠ¤ì™€ íƒ€ì… íŒíŠ¸ë¡œ ìƒì‚°ì„±ì„ ê·¹ëŒ€í™”í•˜ì„¸ìš”.
  </p>
</section>

<section class="content-section">
  <h2 id="installation">ì„¤ì¹˜</h2>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">pipë¡œ ì„¤ì¹˜</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code>pip install anthropic</code></pre>
  </div>

  <h3 id="requirements">ìš”êµ¬ì‚¬í•­</h3>
  <ul>
    <li>Python 3.7 ì´ìƒ</li>
    <li>API í‚¤ (Consoleì—ì„œ ë°œê¸‰)</li>
  </ul>
</section>

<section class="content-section">
  <h2 id="quickstart">ë¹ ë¥¸ ì‹œì‘</h2>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python ê¸°ë³¸ ì‚¬ìš©ë²•</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="kw">import</span> os
<span class="kw">from</span> anthropic <span class="kw">import</span> Anthropic

<span class="cmt"># í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”</span>
client <span class="kw">=</span> <span class="fn">Anthropic</span>(
    api_key<span class="kw">=</span>os.environ.<span class="fn">get</span>(<span class="str">"ANTHROPIC_API_KEY"</span>)
)

<span class="cmt"># ë©”ì‹œì§€ ìƒì„±</span>
message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    messages<span class="kw">=</span>[
        {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ì•ˆë…•í•˜ì„¸ìš”, Claude!"</span>}
    ]
)

<span class="fn">print</span>(message.content[<span class="num">0</span>].text)</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="sdk-architecture">SDK êµ¬ì¡°</h2>
  <p>
    Python SDKëŠ” ì—¬ëŸ¬ ê³„ì¸µìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ê° ê³„ì¸µì€ ëª…í™•í•œ ì—­í• ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
    ì´ êµ¬ì¡°ë¥¼ ì´í•´í•˜ë©´ ë””ë²„ê¹…ê³¼ ìµœì í™”ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.
  </p>

  <figure style="margin: 2.5rem 0;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 550"
         style="width: 100%; max-width: 600px; height: auto; display: block; margin: 0 auto;">
      <defs>
        <marker id="py-arrow" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
          <path d="M0,0 L8,3 L0,6 Z" fill="var(--diagram-arrow)"/>
        </marker>
      </defs>

      <!-- Title -->
      <text x="300" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="var(--diagram-text)">
        Python SDK ê³„ì¸µ êµ¬ì¡°
      </text>

      <!-- Layer 1: Application Code -->
      <rect x="100" y="50" width="400" height="70" rx="8"
            fill="var(--accent-glow)" stroke="var(--accent-primary)" stroke-width="2"/>
      <text x="300" y="75" text-anchor="middle" font-size="13" font-weight="bold" fill="var(--diagram-text)">
        ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ
      </text>
      <text x="300" y="95" text-anchor="middle" font-size="11" fill="var(--text-secondary)">
        Your Python App
      </text>
      <text x="300" y="110" text-anchor="middle" font-size="9" fill="var(--text-tertiary)" font-style="italic">
        client.messages.create(...)
      </text>

      <!-- Arrow 1 -->
      <line x1="300" y1="120" x2="300" y2="145"
            stroke="var(--diagram-arrow)" stroke-width="2.5" marker-end="url(#py-arrow)"/>

      <!-- Layer 2: Anthropic SDK -->
      <rect x="100" y="145" width="400" height="70" rx="8"
            fill="var(--diagram-primary)" stroke="var(--diagram-border)" stroke-width="2"/>
      <text x="300" y="170" text-anchor="middle" font-size="13" font-weight="bold" fill="var(--diagram-text)">
        Anthropic Python SDK
      </text>
      <text x="300" y="190" text-anchor="middle" font-size="11" fill="var(--text-secondary)">
        anthropic íŒ¨í‚¤ì§€
      </text>
      <text x="300" y="205" text-anchor="middle" font-size="9" fill="var(--text-tertiary)" font-style="italic">
        ìš”ì²­ ìƒì„±, íƒ€ì… ê²€ì¦, ì‘ë‹µ íŒŒì‹±
      </text>

      <!-- Arrow 2 -->
      <line x1="300" y1="215" x2="300" y2="240"
            stroke="var(--diagram-arrow)" stroke-width="2.5" marker-end="url(#py-arrow)"/>

      <!-- Layer 3: HTTP Client -->
      <rect x="100" y="240" width="400" height="70" rx="8"
            fill="var(--diagram-primary)" stroke="var(--diagram-border)" stroke-width="2"/>
      <text x="300" y="265" text-anchor="middle" font-size="13" font-weight="bold" fill="var(--diagram-text)">
        HTTP í´ë¼ì´ì–¸íŠ¸
      </text>
      <text x="300" y="285" text-anchor="middle" font-size="11" fill="var(--text-secondary)">
        httpx (ë‚´ì¥)
      </text>
      <text x="300" y="300" text-anchor="middle" font-size="9" fill="var(--text-tertiary)" font-style="italic">
        HTTP ì—°ê²°, ì¬ì‹œë„, íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬
      </text>

      <!-- Arrow 3 -->
      <line x1="300" y1="310" x2="300" y2="335"
            stroke="var(--diagram-arrow)" stroke-width="2.5" marker-end="url(#py-arrow)"/>

      <!-- Layer 4: REST API -->
      <rect x="100" y="335" width="400" height="70" rx="8"
            fill="var(--diagram-primary)" stroke="var(--diagram-border)" stroke-width="2"/>
      <text x="300" y="360" text-anchor="middle" font-size="13" font-weight="bold" fill="var(--diagram-text)">
        Claude REST API
      </text>
      <text x="300" y="380" text-anchor="middle" font-size="11" fill="var(--text-secondary)">
        POST /v1/messages
      </text>
      <text x="300" y="395" text-anchor="middle" font-size="9" fill="var(--text-tertiary)" font-style="italic">
        api.anthropic.com
      </text>

      <!-- Arrow 4 -->
      <line x1="300" y1="405" x2="300" y2="430"
            stroke="var(--diagram-arrow)" stroke-width="2.5" marker-end="url(#py-arrow)"/>

      <!-- Layer 5: Claude Models -->
      <rect x="100" y="430" width="400" height="70" rx="8"
            fill="var(--accent-primary)" fill-opacity="0.2"
            stroke="var(--accent-primary)" stroke-width="2"/>
      <text x="300" y="455" text-anchor="middle" font-size="13" font-weight="bold" fill="var(--diagram-text)">
        Claude ëª¨ë¸
      </text>
      <text x="300" y="475" text-anchor="middle" font-size="11" fill="var(--text-secondary)">
        Opus 4.6 / Sonnet 4.5 / Haiku 4.5
      </text>
      <text x="300" y="490" text-anchor="middle" font-size="9" fill="var(--text-tertiary)" font-style="italic">
        AI ì‘ë‹µ ìƒì„±
      </text>
    </svg>
    <p class="diagram-caption">ê·¸ë¦¼: Python SDKì˜ 5ê³„ì¸µ ì•„í‚¤í…ì²˜ - ì• í”Œë¦¬ì¼€ì´ì…˜ë¶€í„° AI ëª¨ë¸ê¹Œì§€</p>
  </figure>

  <div class="info-box info">
    <div class="info-box-title">ğŸ’¡ ê° ê³„ì¸µì˜ ì—­í• </div>
    <ul style="margin-top: 0.5em;">
      <li><strong>ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ</strong>: SDK ë©”ì„œë“œ í˜¸ì¶œ, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬</li>
      <li><strong>Anthropic SDK</strong>: íƒ€ì… ê²€ì¦, JSON ì§ë ¬í™”, ì—ëŸ¬ ì²˜ë¦¬</li>
      <li><strong>HTTP í´ë¼ì´ì–¸íŠ¸</strong>: ë„¤íŠ¸ì›Œí¬ í†µì‹ , ì¬ì‹œë„ ë¡œì§, íƒ€ì„ì•„ì›ƒ</li>
      <li><strong>REST API</strong>: ì¸ì¦, ë¼ìš°íŒ…, ìš”ì²­ ê²€ì¦</li>
      <li><strong>Claude ëª¨ë¸</strong>: ìì—°ì–´ ì´í•´ ë° ìƒì„±</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="messages-api">Messages API</h2>

  <h3 id="basic-message">ê¸°ë³¸ ë©”ì‹œì§€</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code>message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    messages<span class="kw">=</span>[
        {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"Pythonìœ¼ë¡œ í”¼ë³´ë‚˜ì¹˜ í•¨ìˆ˜ ì‘ì„±"</span>}
    ]
)

<span class="cmt"># ì‘ë‹µ ì ‘ê·¼</span>
response_text <span class="kw">=</span> message.content[<span class="num">0</span>].text
<span class="cmt"># í† í° ì‚¬ìš©ëŸ‰</span>
input_tokens <span class="kw">=</span> message.usage.input_tokens
output_tokens <span class="kw">=</span> message.usage.output_tokens</code></pre>
  </div>

  <h3 id="conversation">ëŒ€í™” ì´ì–´ê°€ê¸°</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python ëŒ€í™” ê´€ë¦¬</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="cmt"># ëŒ€í™” íˆìŠ¤í† ë¦¬ ê´€ë¦¬</span>
conversation <span class="kw">=</span> []

<span class="cmt"># 1ë²ˆì§¸ ë©”ì‹œì§€</span>
conversation.<span class="fn">append</span>({<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"Pythonìœ¼ë¡œ ê³„ì‚°ê¸° í´ë˜ìŠ¤ ë§Œë“¤ì–´ì¤˜"</span>})
message1 <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    messages<span class="kw">=</span>conversation
)
conversation.<span class="fn">append</span>({<span class="str">"role"</span>: <span class="str">"assistant"</span>, <span class="str">"content"</span>: message1.content[<span class="num">0</span>].text})

<span class="cmt"># 2ë²ˆì§¸ ë©”ì‹œì§€ (ì´ì „ ëŒ€í™” ê¸°ì–µ)</span>
conversation.<span class="fn">append</span>({<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ì œê³±ê·¼ ê¸°ëŠ¥ë„ ì¶”ê°€í•´ì¤˜"</span>})
message2 <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    messages<span class="kw">=</span>conversation
)

<span class="fn">print</span>(message2.content[<span class="num">0</span>].text)</code></pre>
  </div>

  <h3 id="system-prompt">ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code>message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">512</span>,
    system<span class="kw">=</span><span class="str">"ë‹¹ì‹ ì€ Python ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ëª¨ë“  ì½”ë“œì— íƒ€ì… íŒíŠ¸ì™€ docstringì„ í¬í•¨í•˜ì„¸ìš”."</span>,
    messages<span class="kw">=</span>[
        {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ë¦¬ìŠ¤íŠ¸ë¥¼ ì •ë ¬í•˜ëŠ” í•¨ìˆ˜ ì‘ì„±"</span>}
    ]
)</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="streaming">ìŠ¤íŠ¸ë¦¬ë°</h2>
  <p>
    ì‹¤ì‹œê°„ìœ¼ë¡œ ì‘ë‹µì„ ë°›ì•„ ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  </p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python ìŠ¤íŠ¸ë¦¬ë°</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="kw">with</span> client.messages.<span class="fn">stream</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    messages<span class="kw">=</span>[
        {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ê¸´ ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ì£¼ì„¸ìš”"</span>}
    ]
) <span class="kw">as</span> stream:
    <span class="kw">for</span> text <span class="kw">in</span> stream.<span class="fn">text_stream</span>:
        <span class="fn">print</span>(text, end<span class="kw">=</span><span class="str">""</span>, flush<span class="kw">=</span><span class="kw">True</span>)

<span class="cmt"># ìµœì¢… ë©”ì‹œì§€ ê°ì²´ ì–»ê¸°</span>
final_message <span class="kw">=</span> stream.<span class="fn">get_final_message</span>()
<span class="fn">print</span>(<span class="fn">f</span><span class="str">"\n\ní† í° ì‚¬ìš©: {final_message.usage}"</span>)</code></pre>
  </div>

  <h3 id="stream-events">ìŠ¤íŠ¸ë¦¼ ì´ë²¤íŠ¸ ì²˜ë¦¬</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python ì´ë²¤íŠ¸ í•¸ë“¤ë§</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="kw">with</span> client.messages.<span class="fn">stream</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    messages<span class="kw">=</span>[{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ì•ˆë…•"</span>}]
) <span class="kw">as</span> stream:
    <span class="kw">for</span> event <span class="kw">in</span> stream:
        <span class="kw">if</span> event.<span class="fn">type</span> <span class="kw">==</span> <span class="str">"content_block_start"</span>:
            <span class="fn">print</span>(<span class="str">"ì‘ë‹µ ì‹œì‘!"</span>)
        <span class="kw">elif</span> event.<span class="fn">type</span> <span class="kw">==</span> <span class="str">"content_block_delta"</span>:
            <span class="fn">print</span>(event.delta.text, end<span class="kw">=</span><span class="str">""</span>)
        <span class="kw">elif</span> event.<span class="fn">type</span> <span class="kw">==</span> <span class="str">"message_stop"</span>:
            <span class="fn">print</span>(<span class="str">"\nì‘ë‹µ ì™„ë£Œ!"</span>)</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="vision">Vision (ì´ë¯¸ì§€ ì…ë ¥)</h2>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python ì´ë¯¸ì§€ ë¶„ì„</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="kw">import</span> base64

<span class="cmt"># ì´ë¯¸ì§€ íŒŒì¼ ì½ê¸°</span>
<span class="kw">with</span> <span class="fn">open</span>(<span class="str">"image.jpg"</span>, <span class="str">"rb"</span>) <span class="kw">as</span> image_file:
    image_data <span class="kw">=</span> base64.<span class="fn">b64encode</span>(image_file.<span class="fn">read</span>()).<span class="fn">decode</span>(<span class="str">"utf-8"</span>)

message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    messages<span class="kw">=</span>[
        {
            <span class="str">"role"</span>: <span class="str">"user"</span>,
            <span class="str">"content"</span>: [
                {
                    <span class="str">"type"</span>: <span class="str">"image"</span>,
                    <span class="str">"source"</span>: {
                        <span class="str">"type"</span>: <span class="str">"base64"</span>,
                        <span class="str">"media_type"</span>: <span class="str">"image/jpeg"</span>,
                        <span class="str">"data"</span>: image_data
                    }
                },
                {
                    <span class="str">"type"</span>: <span class="str">"text"</span>,
                    <span class="str">"text"</span>: <span class="str">"ì´ ì´ë¯¸ì§€ì— ë¬´ì—‡ì´ ìˆë‚˜ìš”?"</span>
                }
            ]
        }
    ]
)

<span class="fn">print</span>(message.content[<span class="num">0</span>].text)</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="tool-use">Tool Use (í•¨ìˆ˜ í˜¸ì¶œ)</h2>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python Tool Use ì˜ˆì‹œ</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="kw">import</span> json

<span class="cmt"># ë„êµ¬ ì •ì˜</span>
tools <span class="kw">=</span> [
    {
        <span class="str">"name"</span>: <span class="str">"get_weather"</span>,
        <span class="str">"description"</span>: <span class="str">"íŠ¹ì • ë„ì‹œì˜ í˜„ì¬ ë‚ ì”¨ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤"</span>,
        <span class="str">"input_schema"</span>: {
            <span class="str">"type"</span>: <span class="str">"object"</span>,
            <span class="str">"properties"</span>: {
                <span class="str">"city"</span>: {
                    <span class="str">"type"</span>: <span class="str">"string"</span>,
                    <span class="str">"description"</span>: <span class="str">"ë„ì‹œ ì´ë¦„"</span>
                }
            },
            <span class="str">"required"</span>: [<span class="str">"city"</span>]
        }
    }
]

<span class="cmt"># 1ì°¨ ìš”ì²­</span>
message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    tools<span class="kw">=</span>tools,
    messages<span class="kw">=</span>[
        {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ì„œìš¸ ë‚ ì”¨ ì–´ë•Œ?"</span>}
    ]
)

<span class="cmt"># tool_use ë¸”ë¡ í™•ì¸</span>
<span class="kw">if</span> message.stop_reason <span class="kw">==</span> <span class="str">"tool_use"</span>:
    tool_use_block <span class="kw">=</span> <span class="fn">next</span>(
        block <span class="kw">for</span> block <span class="kw">in</span> message.content
        <span class="kw">if</span> block.<span class="fn">type</span> <span class="kw">==</span> <span class="str">"tool_use"</span>
    )

    <span class="cmt"># ì‹¤ì œ í•¨ìˆ˜ ì‹¤í–‰</span>
    <span class="kw">def</span> <span class="fn">get_weather</span>(city: <span class="type">str</span>) <span class="kw">-></span> <span class="type">dict</span>:
        <span class="cmt"># ì‹¤ì œë¡œëŠ” API í˜¸ì¶œ</span>
        <span class="kw">return</span> {<span class="str">"temperature"</span>: <span class="num">22</span>, <span class="str">"condition"</span>: <span class="str">"ë§‘ìŒ"</span>}

    result <span class="kw">=</span> <span class="fn">get_weather</span>(<span class="kw">**</span>tool_use_block.<span class="fn">input</span>)

    <span class="cmt"># 2ì°¨ ìš”ì²­ (ê²°ê³¼ í¬í•¨)</span>
    final_message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
        model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
        max_tokens<span class="kw">=</span><span class="num">1024</span>,
        tools<span class="kw">=</span>tools,
        messages<span class="kw">=</span>[
            {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ì„œìš¸ ë‚ ì”¨ ì–´ë•Œ?"</span>},
            {<span class="str">"role"</span>: <span class="str">"assistant"</span>, <span class="str">"content"</span>: message.content},
            {
                <span class="str">"role"</span>: <span class="str">"user"</span>,
                <span class="str">"content"</span>: [
                    {
                        <span class="str">"type"</span>: <span class="str">"tool_result"</span>,
                        <span class="str">"tool_use_id"</span>: tool_use_block.<span class="fn">id</span>,
                        <span class="str">"content"</span>: json.<span class="fn">dumps</span>(result)
                    }
                ]
            }
        ]
    )

    <span class="fn">print</span>(final_message.content[<span class="num">0</span>].text)</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="error-handling">ì˜¤ë¥˜ ì²˜ë¦¬</h2>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python ì˜¤ë¥˜ ì²˜ë¦¬</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="kw">from</span> anthropic <span class="kw">import</span> (
    APIError,
    RateLimitError,
    AuthenticationError,
    APIConnectionError
)
<span class="kw">import</span> time

<span class="kw">def</span> <span class="fn">call_claude_with_retry</span>(client, <span class="kw">**</span>kwargs):
    max_retries <span class="kw">=</span> <span class="num">3</span>
    base_delay <span class="kw">=</span> <span class="num">1</span>

    <span class="kw">for</span> attempt <span class="kw">in</span> <span class="fn">range</span>(max_retries):
        <span class="kw">try</span>:
            <span class="kw">return</span> client.messages.<span class="fn">create</span>(<span class="kw">**</span>kwargs)

        <span class="kw">except</span> RateLimitError:
            <span class="kw">if</span> attempt <span class="kw">==</span> max_retries <span class="kw">-</span> <span class="num">1</span>:
                <span class="kw">raise</span>
            delay <span class="kw">=</span> base_delay <span class="kw">*</span> (<span class="num">2</span> <span class="kw">**</span> attempt)
            <span class="fn">print</span>(<span class="fn">f</span><span class="str">"Rate limit, {delay}ì´ˆ ëŒ€ê¸°..."</span>)
            time.<span class="fn">sleep</span>(delay)

        <span class="kw">except</span> AuthenticationError <span class="kw">as</span> e:
            <span class="fn">print</span>(<span class="fn">f</span><span class="str">"ì¸ì¦ ì˜¤ë¥˜: {e}"</span>)
            <span class="kw">raise</span>

        <span class="kw">except</span> APIConnectionError <span class="kw">as</span> e:
            <span class="fn">print</span>(<span class="fn">f</span><span class="str">"ì—°ê²° ì˜¤ë¥˜: {e}"</span>)
            <span class="kw">if</span> attempt <span class="kw">==</span> max_retries <span class="kw">-</span> <span class="num">1</span>:
                <span class="kw">raise</span>
            time.<span class="fn">sleep</span>(base_delay)

        <span class="kw">except</span> APIError <span class="kw">as</span> e:
            <span class="fn">print</span>(<span class="fn">f</span><span class="str">"API ì˜¤ë¥˜: {e}"</span>)
            <span class="kw">raise</span>

<span class="cmt"># ì‚¬ìš©</span>
message <span class="kw">=</span> <span class="fn">call_claude_with_retry</span>(
    client,
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    messages<span class="kw">=</span>[{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ì•ˆë…•"</span>}]
)</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="token-counting">í† í° ì¹´ìš´íŒ…</h2>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python í† í° ê³„ì‚°</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="cmt"># ìš”ì²­ ì „ í† í° ìˆ˜ ê³„ì‚°</span>
token_count <span class="kw">=</span> client.messages.<span class="fn">count_tokens</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    system<span class="kw">=</span><span class="str">"You are a helpful assistant"</span>,
    messages<span class="kw">=</span>[
        {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ê¸´ ë¬¸ì„œ í…ìŠ¤íŠ¸..."</span>}
    ]
)

<span class="fn">print</span>(<span class="fn">f</span><span class="str">"ì…ë ¥ í† í°: {token_count.input_tokens}"</span>)

<span class="cmt"># ë¹„ìš© ê³„ì‚° (Sonnet 4.5: $3/MTok input)</span>
cost <span class="kw">=</span> (token_count.input_tokens <span class="kw">/</span> <span class="num">1_000_000</span>) <span class="kw">*</span> <span class="num">3</span>
<span class="fn">print</span>(<span class="fn">f</span><span class="str">"ì˜ˆìƒ ë¹„ìš©: ${cost:.4f}"</span>)</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="async">ë¹„ë™ê¸° (Async) ì‚¬ìš©</h2>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python async/await</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="kw">import</span> asyncio
<span class="kw">from</span> anthropic <span class="kw">import</span> AsyncAnthropic

<span class="kw">async</span> <span class="kw">def</span> <span class="fn">main</span>():
    client <span class="kw">=</span> <span class="fn">AsyncAnthropic</span>()

    message <span class="kw">=</span> <span class="kw">await</span> client.messages.<span class="fn">create</span>(
        model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
        max_tokens<span class="kw">=</span><span class="num">1024</span>,
        messages<span class="kw">=</span>[{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ì•ˆë…•"</span>}]
    )

    <span class="fn">print</span>(message.content[<span class="num">0</span>].text)

    <span class="cmt"># ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¬ë°</span>
    <span class="kw">async</span> <span class="kw">with</span> client.messages.<span class="fn">stream</span>(
        model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
        max_tokens<span class="kw">=</span><span class="num">1024</span>,
        messages<span class="kw">=</span>[{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ì´ì•¼ê¸° ë“¤ë ¤ì¤˜"</span>}]
    ) <span class="kw">as</span> stream:
        <span class="kw">async</span> <span class="kw">for</span> text <span class="kw">in</span> stream.<span class="fn">text_stream</span>:
            <span class="fn">print</span>(text, end<span class="kw">=</span><span class="str">""</span>, flush<span class="kw">=</span><span class="kw">True</span>)

asyncio.<span class="fn">run</span>(<span class="fn">main</span>())</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="best-practices">ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2>

  <h3 id="bp-1">1. í™˜ê²½ ë³€ìˆ˜ë¡œ API í‚¤ ê´€ë¦¬</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">.env íŒŒì¼</span>
    </div>
    <pre><code>ANTHROPIC_API_KEY<span class="kw">=</span>sk-ant-api03-YOUR_KEY_HERE</code></pre>
  </div>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python (python-dotenv ì‚¬ìš©)</span>
    </div>
    <pre><code><span class="kw">from</span> dotenv <span class="kw">import</span> load_dotenv
<span class="kw">from</span> anthropic <span class="kw">import</span> Anthropic

<span class="fn">load_dotenv</span>()  <span class="cmt"># .env íŒŒì¼ ë¡œë“œ</span>
client <span class="kw">=</span> <span class="fn">Anthropic</span>()  <span class="cmt"># ìë™ìœ¼ë¡œ í™˜ê²½ ë³€ìˆ˜ ì½ìŒ</span></code></pre>
  </div>

  <h3 id="bp-2">2. íƒ€ì… íŒíŠ¸ í™œìš©</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python íƒ€ì… íŒíŠ¸</span>
    </div>
    <pre><code><span class="kw">from</span> anthropic <span class="kw">import</span> Anthropic
<span class="kw">from</span> anthropic.types <span class="kw">import</span> Message

<span class="kw">def</span> <span class="fn">ask_claude</span>(prompt: <span class="type">str</span>) <span class="kw">-></span> <span class="type">str</span>:
    client: Anthropic <span class="kw">=</span> <span class="fn">Anthropic</span>()

    message: Message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
        model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
        max_tokens<span class="kw">=</span><span class="num">1024</span>,
        messages<span class="kw">=</span>[{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: prompt}]
    )

    <span class="kw">return</span> message.content[<span class="num">0</span>].text</code></pre>
  </div>

  <h3 id="bp-3">3. ëŒ€í™” íˆìŠ¤í† ë¦¬ ì••ì¶•</h3>
  <p>
    ê¸´ ëŒ€í™”ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ìš”ì•½í•˜ì—¬ í† í° ì ˆì•½:
  </p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python ëŒ€í™” ìš”ì•½</span>
    </div>
    <pre><code><span class="kw">def</span> <span class="fn">summarize_conversation</span>(history: <span class="type">list</span>) <span class="kw">-></span> <span class="type">str</span>:
    <span class="cmt"># ëŒ€í™”ê°€ ë„ˆë¬´ ê¸¸ë©´ ìš”ì•½</span>
    <span class="kw">if</span> <span class="fn">len</span>(history) <span class="kw">></span> <span class="num">20</span>:
        summary_msg <span class="kw">=</span> client.messages.<span class="fn">create</span>(
            model<span class="kw">=</span><span class="str">"claude-haiku-4-5-20251001"</span>,  <span class="cmt"># ë¹ ë¥´ê³  ì €ë ´í•œ ëª¨ë¸</span>
            max_tokens<span class="kw">=</span><span class="num">500</span>,
            messages<span class="kw">=</span>history <span class="kw">+</span> [
                {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"ì§€ê¸ˆê¹Œì§€ ëŒ€í™”ë¥¼ 3ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•´ì£¼ì„¸ìš”"</span>}
            ]
        )
        <span class="kw">return</span> summary_msg.content[<span class="num">0</span>].text
    <span class="kw">return</span> <span class="str">""</span></code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="next-steps">ë‹¤ìŒ ë‹¨ê³„</h2>
  <p>Python SDKë¥¼ ìµí˜”ë‹¤ë©´ ì‹¤ì „ ì˜ˆì œë¥¼ íƒìƒ‰í•˜ì„¸ìš”:</p>

  <ul>
    <li><a href="code-generation.html">ì½”ë“œ ìƒì„±</a> - SDKë¡œ ì½”ë“œ ìƒì„± ìë™í™”</li>
    <li><a href="document-analysis.html">ë¬¸ì„œ ë¶„ì„</a> - PDF ë¶„ì„ íŒŒì´í”„ë¼ì¸</li>
    <li><a href="conversational-agent.html">ëŒ€í™”í˜• ì—ì´ì „íŠ¸</a> - ì±—ë´‡ êµ¬ì¶•</li>
    <li><a href="tool-use.html">Tool Use</a> - í•¨ìˆ˜ í˜¸ì¶œ ìƒì„¸ ê°€ì´ë“œ</li>
  </ul>
</section>

<nav class="page-nav"></nav>

</main>

<aside class="inline-toc"></aside>
<footer class="site-footer"></footer>

</div>
<script src="../js/main.js"></script>
</body>
</html>
