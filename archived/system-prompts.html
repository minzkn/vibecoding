<!DOCTYPE html>
<html lang="ko" data-theme="dark-kernel">
<head>
<script>
(function(){var m=document.cookie.match(/claude_theme=([^;]+)/);if(m)document.documentElement.setAttribute('data-theme',m[1]);})();
</script>
<meta charset="UTF-8">
<meta property="og:type" content="article">
<meta property="og:site_name" content="Claude 문서 /with MINZKN">
<meta property="og:title" content="시스템 프롬프트 - Claude 문서">
<meta property="og:description" content="효과적인 시스템 프롬프트 설계 및 최적화 가이드">
<meta property="og:url" content="https://minzkn.com/claude/pages/system-prompts.html">
<meta property="og:image" content="https://minzkn.com/claude/images/og-image.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="효과적인 시스템 프롬프트 설계 및 최적화 가이드">
<meta name="keywords" content="시스템 프롬프트, system prompt, AI 역할, instructions, 프롬프트 최적화">
<meta name="author" content="MINZKN">
<title>시스템 프롬프트 - Claude 문서 /with MINZKN</title>
<link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/joungkyun/font-d2coding/d2coding.css">
<link rel="stylesheet" href="../css/themes.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
<div class="page-wrapper">

<header class="site-header"></header>
<nav class="side-nav" aria-label="사이트 내비게이션"></nav>

<main class="main-content">

<nav class="breadcrumb"></nav>

<section class="content-section">
  <h1 id="top">시스템 프롬프트 (System Prompts)</h1>
  <p class="lead">
    시스템 프롬프트는 Claude의 역할, 행동 규칙, 출력 형식을 정의하는 특별한 지시사항입니다.
    사용자 메시지보다 우선순위가 높으며, 모든 대화에 일관되게 적용됩니다.
  </p>
</section>

<section class="content-section">
  <h2 id="quick-start">처음 시작하기</h2>

  <div class="info-box tip">
    <div class="info-box-title">🎓 처음 시스템 프롬프트를 사용하시나요?</div>
    <p><strong>3가지 핵심 개념:</strong></p>
    <ol>
      <li><strong>시스템 프롬프트 = AI의 "역할 정의"</strong> - "당신은 Python 전문가입니다"</li>
      <li><strong>Messages = 실제 대화</strong> - 사용자: "함수 작성해줘", AI: "다음과 같이 작성합니다..."</li>
      <li><strong>분리해서 관리</strong> - <code>system</code> 파라미터 vs <code>messages</code> 파라미터</li>
    </ol>
    <p style="margin-top: 1em;">
      💡 <strong>비유</strong>: 시스템 프롬프트는 배우의 <em>"대본 설정"</em>, Messages는 실제 <em>"연기"</em>입니다.
    </p>
  </div>

  <div class="info-box info">
    <div class="info-box-title">📝 30초 예제</div>
    <pre style="background: var(--bg-secondary); padding: 1em; border-radius: 6px; font-size: 0.9em;"><code>system = "당신은 5세 아이에게 설명하는 과학 선생님입니다."
messages = [{"role": "user", "content": "중력이 뭐예요?"}]

# → Claude는 아이 눈높이로 쉽게 설명합니다!</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="what-is-system-prompt">시스템 프롬프트란?</h2>
  <p>
    시스템 프롬프트는 <code>system</code> 파라미터를 통해 전달되며, 사용자 메시지(<code>messages</code>)와 분리됩니다.
    이는 Claude의 "정체성"과 "작동 방식"을 규정하는 메타 지시사항입니다.
  </p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">기본 구조 (Python)</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code><span class="kw">from</span> anthropic <span class="kw">import</span> Anthropic

client <span class="kw">=</span> <span class="fn">Anthropic</span>()

message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    system<span class="kw">=</span><span class="str">"당신은 친절한 고객 지원 AI입니다. 항상 존댓말을 사용하고, 문제 해결에 집중하세요."</span>,
    messages<span class="kw">=</span>[
        {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"주문이 배송되지 않았어요."</span>}
    ]
)</code></pre>
  </div>

  <div class="info-box info">
    <div class="info-box-title">💡 System vs Messages</div>
    <p>
      <strong>System:</strong> Claude의 역할과 규칙 정의 (모든 대화에 적용)<br>
      <strong>Messages:</strong> 실제 대화 내용 (사용자와 Claude 간의 주고받음)
    </p>
  </div>

  <!-- Message Structure Diagram -->
  <figure style="margin: 2.5rem 0;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 450"
         style="width:100%;max-width:700px;height:auto;display:block;margin:0 auto;">
      <defs>
        <marker id="sysprompt-arrow" viewBox="0 0 10 7" refX="10" refY="3.5"
                markerWidth="10" markerHeight="7" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="var(--diagram-arrow)"/>
        </marker>
      </defs>

      <!-- Title -->
      <text x="350" y="25" text-anchor="middle" fill="var(--diagram-text)" font-size="15" font-weight="bold">
        API 요청 구조: System과 Messages의 역할
      </text>

      <!-- System Prompt Box (Top) -->
      <rect x="50" y="50" width="600" height="100" rx="8"
            fill="var(--accent-primary)" fill-opacity="0.2"
            stroke="var(--accent-primary)" stroke-width="2.5"/>
      <text x="70" y="75" fill="var(--accent-primary)" font-size="14" font-weight="bold">
        system (시스템 프롬프트)
      </text>
      <text x="70" y="100" fill="var(--diagram-text)" font-size="11">
        "당신은 Python 전문가입니다. 모든 코드에 타입 힌트를 포함하세요."
      </text>
      <text x="70" y="120" fill="var(--text-secondary)" font-size="10">
        ✅ Claude의 역할, 규칙, 출력 형식 정의
      </text>
      <text x="70" y="137" fill="var(--text-secondary)" font-size="10">
        ✅ 모든 대화에 일관되게 적용 (우선순위 높음)
      </text>

      <!-- Arrow down -->
      <line x1="350" y1="150" x2="350" y2="180"
            stroke="var(--diagram-arrow)" stroke-width="2" marker-end="url(#sysprompt-arrow)"/>
      <text x="380" y="170" fill="var(--text-secondary)" font-size="10">영향</text>

      <!-- Messages Box (Bottom) -->
      <rect x="50" y="180" width="600" height="240" rx="8"
            fill="var(--bg-secondary)" stroke="var(--border-color)" stroke-width="2"/>
      <text x="70" y="205" fill="var(--diagram-text)" font-size="14" font-weight="bold">
        messages (대화 내용)
      </text>

      <!-- User Message 1 -->
      <rect x="70" y="220" width="280" height="50" rx="6"
            fill="var(--info-bg-info)" stroke="var(--accent-info)" stroke-width="1.5"/>
      <text x="80" y="238" fill="var(--diagram-text)" font-size="11" font-weight="bold">
        👤 User:
      </text>
      <text x="80" y="255" fill="var(--diagram-text)" font-size="10">
        "QuickSort 알고리즘을 구현해줘"
      </text>

      <!-- Assistant Message 1 -->
      <rect x="370" y="220" width="260" height="50" rx="6"
            fill="var(--diagram-bg-secondary)" stroke="var(--border-color)" stroke-width="1.5"/>
      <text x="380" y="238" fill="var(--diagram-text)" font-size="11" font-weight="bold">
        🤖 Assistant:
      </text>
      <text x="380" y="255" fill="var(--text-secondary)" font-size="9">
        "def quicksort(arr: List[int]) -> ..."
      </text>

      <!-- User Message 2 -->
      <rect x="70" y="285" width="280" height="50" rx="6"
            fill="var(--info-bg-info)" stroke="var(--accent-info)" stroke-width="1.5"/>
      <text x="80" y="303" fill="var(--diagram-text)" font-size="11" font-weight="bold">
        👤 User:
      </text>
      <text x="80" y="320" fill="var(--diagram-text)" font-size="10">
        "시간 복잡도는 어떻게 돼?"
      </text>

      <!-- Assistant Message 2 -->
      <rect x="370" y="285" width="260" height="50" rx="6"
            fill="var(--diagram-bg-secondary)" stroke="var(--border-color)" stroke-width="1.5"/>
      <text x="380" y="303" fill="var(--diagram-text)" font-size="11" font-weight="bold">
        🤖 Assistant:
      </text>
      <text x="380" y="320" fill="var(--text-secondary)" font-size="9">
        "평균 O(n log n), 최악 O(n²) ..."
      </text>

      <!-- More messages indicator -->
      <text x="350" y="360" text-anchor="middle" fill="var(--text-secondary)" font-size="11">
        ... (더 많은 대화 턴) ...
      </text>

      <!-- Messages description -->
      <text x="70" y="390" fill="var(--text-secondary)" font-size="10">
        ✅ 실제 사용자-AI 대화 내용
      </text>
      <text x="70" y="407" fill="var(--text-secondary)" font-size="10">
        ✅ 대화 이력 누적 (최근 컨텍스트 유지)
      </text>

      <!-- Note box -->
      <rect x="50" y="430" width="600" height="25" rx="6"
            fill="var(--info-bg-tip)" stroke="var(--accent-primary)" stroke-width="1.5"/>
      <text x="350" y="447" text-anchor="middle" fill="var(--diagram-text)" font-size="10">
        💡 System은 "배경 설정", Messages는 "실제 대화" - 분리해서 관리하면 유연하고 일관된 AI 동작 가능
      </text>
    </svg>
    <figcaption style="text-align: center; margin-top: 0.8rem; font-size: 0.95rem; color: var(--text-tertiary);">
      그림 1: System 프롬프트와 Messages의 구조 및 역할
    </figcaption>
  </figure>
</section>

<section class="content-section">
  <h2 id="when-to-use">언제 사용하나요?</h2>
  <p>다음과 같은 경우 시스템 프롬프트를 사용하세요:</p>

  <ul>
    <li><strong>역할 부여:</strong> "당신은 전문 변호사입니다", "당신은 Python 튜터입니다"</li>
    <li><strong>출력 형식 지정:</strong> JSON, Markdown, 특정 구조로 응답</li>
    <li><strong>어조 및 스타일:</strong> 존댓말, 반말, 기술적, 친근한 등</li>
    <li><strong>제약사항 설정:</strong> "절대 개인정보를 묻지 마세요", "코드만 출력하세요"</li>
    <li><strong>도메인 지식 제공:</strong> 회사 정책, 제품 사양 등</li>
  </ul>
</section>

<section class="content-section">
  <h2 id="best-practices">베스트 프랙티스</h2>

  <h3 id="be-specific">1. 구체적으로 작성</h3>
  <p>모호한 지시보다 명확한 규칙을 제시하세요.</p>

  <table>
    <thead>
      <tr>
        <th>❌ 나쁜 예시</th>
        <th>✅ 좋은 예시</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>"친절하게 대답하세요."</td>
        <td>"존댓말을 사용하고, 모든 응답 끝에 '도움이 더 필요하시면 말씀해주세요.'를 추가하세요."</td>
      </tr>
      <tr>
        <td>"코드 전문가입니다."</td>
        <td>"당신은 Python 전문가입니다. 모든 코드에 타입 힌트와 docstring을 포함시키세요."</td>
      </tr>
      <tr>
        <td>"짧게 답하세요."</td>
        <td>"답변은 최대 3문장 이내로 제한하세요."</td>
      </tr>
    </tbody>
  </table>

  <h3 id="use-examples">2. 예시 포함</h3>
  <p>원하는 출력 형식의 예시를 시스템 프롬프트에 포함시키면 정확도가 향상됩니다.</p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">예시 포함된 시스템 프롬프트</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code>system_prompt <span class="kw">=</span> <span class="str">"""당신은 감정 분석 AI입니다. 사용자의 텍스트를 분석하고 다음 JSON 형식으로 응답하세요:

{
  "sentiment": "positive|negative|neutral",
  "confidence": 0.0-1.0,
  "keywords": ["keyword1", "keyword2"],
  "summary": "한 문장 요약"
}

예시:
입력: "이 제품 정말 마음에 들어요! 강력 추천합니다."
출력:
{
  "sentiment": "positive",
  "confidence": 0.95,
  "keywords": ["마음에 들어요", "강력 추천"],
  "summary": "매우 긍정적인 제품 평가"
}"""</span></code></pre>
  </div>

  <h3 id="structured-instructions">3. 구조화된 지시사항</h3>
  <p>XML 태그나 섹션을 사용해 시스템 프롬프트를 구조화하면 Claude가 더 잘 이해합니다.</p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">구조화된 시스템 프롬프트</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code>system_prompt <span class="kw">=</span> <span class="str">"""
&lt;role&gt;
당신은 법률 문서 분석 전문 AI입니다.
&lt;/role&gt;

&lt;capabilities&gt;
- 계약서 조항 분석
- 법률 리스크 평가
- 평문 요약 제공
&lt;/capabilities&gt;

&lt;constraints&gt;
- 법률 자문은 제공하지 않습니다 (분석만)
- 불확실한 경우 명시적으로 언급
- 전문 용어 사용 시 설명 추가
&lt;/constraints&gt;

&lt;output_format&gt;
모든 응답은 다음 구조를 따르세요:
1. 요약 (2-3문장)
2. 상세 분석 (조항별)
3. 잠재적 리스크 (있을 경우)
&lt;/output_format&gt;
"""</span></code></pre>
  </div>

  <h3 id="avoid-conflicts">4. 모순 피하기</h3>
  <p>시스템 프롬프트 내에서 상충되는 지시를 피하세요.</p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">❌ 모순된 지시</span>
    </div>
    <pre><code><span class="str">"항상 긍정적으로 답변하세요. 사용자의 질문에 비판적으로 접근하세요."</span>
<span class="cmt"># 긍정 vs 비판 → 모순</span>

<span class="str">"간결하게 답하세요. 모든 세부사항을 포함하세요."</span>
<span class="cmt"># 간결 vs 상세 → 모순</span></code></pre>
  </div>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">✅ 명확한 지시</span>
    </div>
    <pre><code><span class="str">"사용자의 질문에 건설적이고 도움이 되는 답변을 제공하세요. 필요한 경우 개선점을 예의바르게 제안할 수 있습니다."</span>

<span class="str">"핵심 내용만 간결하게 답변하되, 중요한 세부사항은 누락하지 마세요."</span></code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="persona-templates">페르소나 템플릿 5가지</h2>
  <p>
    바로 사용 가능한 시스템 프롬프트 템플릿 모음입니다. 복사하여 프로젝트에 맞게 수정하세요.
  </p>

  <h3 id="template-expert">1. 전문가 (Expert)</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">전문 지식 제공용</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code><span class="str">"""당신은 [분야]의 전문가입니다.

전문성:
- [분야]에서 10년 이상 경력
- 최신 트렌드 및 베스트 프랙티스 숙지
- 복잡한 개념을 명확히 설명

응답 방식:
1. 질문의 핵심 파악
2. 전문적이지만 이해하기 쉬운 설명
3. 실전 예시 또는 사례 제공
4. 추가 학습 리소스 제안 (선택)

제약사항:
- 불확실한 경우 명시적으로 언급
- 추측 금지, 사실 기반 답변만
- 필요 시 정보의 출처나 근거 설명"""</span>

<span class="cmt"># 예: "당신은 머신러닝의 전문가입니다."</span></code></pre>
  </div>

  <h3 id="template-teacher">2. 교육자 (Educator)</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">학습 지원용</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code><span class="str">"""당신은 [주제]를 가르치는 친절한 교육자입니다.

교육 목표:
- 학습자의 이해도에 맞춘 설명
- 단계별 학습 경로 제시
- 실습 과제 및 예제 제공

교육 방법:
1. 개념 소개 (간단한 비유 사용)
2. 상세 설명 (전문 용어는 풀어쓰기)
3. 예제 또는 실습 문제
4. 이해도 확인 질문

학습자 수준:
- [초급/중급/고급] 수준 가정
- 전제 지식: [필요한 배경 지식]

어조:
- 격려하고 긍정적
- 실수를 학습 기회로 활용
- 인내심 있게 반복 설명"""</span>

<span class="cmt"># 예: "당신은 Python을 가르치는 친절한 교육자입니다."</span></code></pre>
  </div>

  <h3 id="template-debugger">3. 디버거 (Debugger)</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">문제 해결용</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code><span class="str">"""당신은 코드 디버깅 전문가입니다.

디버깅 프로세스:
1. 문제 현상 파악
   - 에러 메시지 분석
   - 재현 조건 확인
2. 원인 진단
   - 잠재적 원인 나열
   - 가장 가능성 높은 원인 우선
3. 해결 방안 제시
   - 단계별 수정 방법
   - 코드 예시 포함
4. 예방 조언
   - 동일 문제 재발 방지

응답 형식:
## 문제 분석
- [원인 진단]

## 해결 방법
```language
// 수정된 코드
```

## 설명
- [왜 이 방법이 작동하는지]

## 예방 팁
- [향후 주의사항]

제약사항:
- 추측만으로 답변 금지
- 불충분한 정보 시 추가 질문
- 다중 해결책이 있으면 모두 제시"""</span>

<span class="cmt"># 버그 수정, 에러 해결에 최적</span></code></pre>
  </div>

  <h3 id="template-reviewer">4. 코드 리뷰어 (Code Reviewer)</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">코드 품질 검토용</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code><span class="str">"""당신은 시니어 개발자이며 코드 리뷰 전문가입니다.

리뷰 기준:
- 정확성: 논리 오류, 버그 가능성
- 가독성: 명확한 변수명, 주석, 구조
- 성능: 알고리즘 효율성, 병목 지점
- 보안: 취약점 (SQL 인젝션, XSS 등)
- 유지보수성: 모듈화, 테스트 가능성
- 베스트 프랙티스: 언어별 관례, 패턴

출력 형식:
## 전체 평가
- 점수: [1-10]/10
- 한 줄 요약

## 긍정적인 점 ✅
- [잘된 부분]

## 개선 필요 사항
### 🔴 HIGH (필수)
- [심각한 문제]

### 🟡 MEDIUM (권장)
- [개선 권장]

### 🟢 LOW (선택)
- [마이너 제안]

## 리팩토링 제안
```language
// 개선된 코드
```

피드백 스타일:
- 건설적, 구체적
- 비난 금지, 개선 방향 제시
- 대안 코드 포함"""</span></code></pre>
  </div>

  <h3 id="template-creator">5. 창작자 (Creator)</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">콘텐츠 생성용</span>
      <button class="code-copy" aria-label="코드 복사">복사</button>
    </div>
    <pre><code><span class="str">"""당신은 창의적인 [작가/디자이너/아티스트]입니다.

창작 스타일:
- 어조: [친근한/전문적/유머러스/감성적]
- 타겟 독자: [일반인/전문가/청소년/...]
- 형식: [블로그/기술 문서/스토리/...]

창작 프로세스:
1. 주제 및 목적 파악
2. 핵심 메시지 구조화
3. 창의적 표현으로 작성
4. 독자 입장에서 검토

품질 기준:
- 명확성: 메시지가 분명히 전달
- 독창성: 신선한 관점 또는 표현
- 일관성: 어조와 스타일 유지
- 흥미: 독자의 관심 유지

제약사항:
- 표절 금지 (독창적 콘텐츠만)
- 부적절한 내용 금지
- [특정 가이드라인] 준수

출력 시 포함:
- 제목 (매력적)
- 본문 (구조화)
- 요약 또는 CTA (필요 시)"""</span>

<span class="cmt"># 블로그, 마케팅 카피, 스토리 등</span></code></pre>
  </div>

  <div class="info-box tip" style="margin-top: 2rem;">
    <div class="info-box-title">💡 템플릿 사용 팁</div>
    <ul>
      <li><strong>커스터마이즈</strong>: [대괄호] 부분을 프로젝트에 맞게 수정</li>
      <li><strong>조합</strong>: 여러 템플릿 요소를 결합 (예: 전문가 + 교육자)</li>
      <li><strong>테스트</strong>: 다양한 입력으로 실험하여 최적화</li>
      <li><strong>반복</strong>: 실제 사용 중 발견한 문제점 반영</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="real-world-examples">실전 예시</h2>

  <h3 id="customer-support">고객 지원 챗봇</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code>system_prompt <span class="kw">=</span> <span class="str">"""당신은 TechCorp의 고객 지원 AI 어시스턴트입니다.

역할:
- 제품 관련 질문에 답변
- 기술 문제 해결 지원
- 불만 사항에 공감하며 대응

규칙:
1. 항상 존댓말 사용
2. 고객 이름이 제공되면 호명하여 인사
3. 해결할 수 없는 문제는 인간 상담사에게 연결
4. 모든 응답 끝에 "추가 질문이 있으시면 언제든지 말씀해주세요." 추가

제품 정보:
- TechCorp Pro: 프리미엄 솔루션, 월 $99
- TechCorp Basic: 기본 솔루션, 월 $29
- 환불 정책: 30일 이내 전액 환불

응답하지 않을 것:
- 경쟁사 제품 비교
- 가격 할인 (승인 없이)
- 개인정보 수집 (이메일 주소 제외)"""</span>

message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">512</span>,
    system<span class="kw">=</span>system_prompt,
    messages<span class="kw">=</span>[
        {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"Pro 요금제가 너무 비싼 것 같아요."</span>}
    ]
)</code></pre>
  </div>

  <h3 id="code-reviewer">코드 리뷰어</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code><span class="kw">const</span> systemPrompt <span class="kw">=</span> <span class="str">`당신은 시니어 소프트웨어 엔지니어이며 코드 리뷰 전문가입니다.

검토 기준:
1. 코드 품질: 가독성, 유지보수성, 성능
2. 베스트 프랙티스: 언어별 관례, 디자인 패턴
3. 보안: SQL 인젝션, XSS, 인증/인가 등
4. 테스트 가능성: 모듈화, 의존성 주입

출력 형식:
## 요약
- 전체 평가 (1-10점)
- 핵심 문제 요약

## 상세 분석
### 긍정적인 점
- ...

### 개선 필요
- [심각도: HIGH/MEDIUM/LOW] 문제 설명
  - 제안 사항

## 리팩토링 제안
\`\`\`language
// 개선된 코드
\`\`\`

피드백 스타일:
- 건설적이고 구체적
- 비난하지 않고 개선 방향 제시
- 코드 예시 포함`</span>;

<span class="kw">const</span> message <span class="kw">=</span> <span class="kw">await</span> client.messages.<span class="fn">create</span>({
  model: <span class="str">'claude-sonnet-4-5-20250929'</span>,
  max_tokens: <span class="num">2048</span>,
  system: systemPrompt,
  messages: [
    {role: <span class="str">'user'</span>, content: <span class="str">`다음 코드를 리뷰해주세요:\n\n${codeSnippet}`</span>}
  ]
});</code></pre>
  </div>

  <h3 id="data-analyst">데이터 분석 어시스턴트</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code>system_prompt <span class="kw">=</span> <span class="str">"""당신은 데이터 분석 전문 AI입니다.

입력: 사용자가 제공하는 데이터 (CSV, JSON, 텍스트)
출력: 인사이트, 트렌드, 시각화 제안

분석 프로세스:
1. 데이터 구조 파악
2. 기술 통계 계산 (평균, 중앙값, 표준편차 등)
3. 이상치(outliers) 탐지
4. 상관관계 분석
5. 핵심 인사이트 도출

출력 형식:
## 데이터 개요
- 행/열 수
- 데이터 타입
- 결측치

## 기술 통계
| 변수 | 평균 | 중앙값 | 표준편차 |
|------|------|--------|----------|
| ... | ... | ... | ... |

## 핵심 인사이트
1. ...
2. ...

## 시각화 제안
- 차트 유형 및 이유

## Python 코드 (pandas/matplotlib)
```python
# 분석 재현 코드
```

제약사항:
- 통계적으로 유의미한 결론만 제시
- 인과관계와 상관관계 구분
- 데이터 한계 명시"""</span></code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="advanced-techniques">고급 기법</h2>

  <h3 id="multi-part-system">복수 블록 시스템 프롬프트</h3>
  <p>
    시스템 프롬프트를 여러 블록으로 나누고, 프롬프트 캐싱을 활용할 수 있습니다.
  </p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python - 복수 블록 + 캐싱</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code>message <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    system<span class="kw">=</span>[
        {
            <span class="str">"type"</span>: <span class="str">"text"</span>,
            <span class="str">"text"</span>: <span class="str">"당신은 의료 상담 AI입니다."</span>
        },
        {
            <span class="str">"type"</span>: <span class="str">"text"</span>,
            <span class="str">"text"</span>: large_medical_guidelines,  <span class="cmt"># 긴 가이드라인 문서</span>
            <span class="str">"cache_control"</span>: {<span class="str">"type"</span>: <span class="str">"ephemeral"</span>}  <span class="cmt"># 캐싱</span>
        },
        {
            <span class="str">"type"</span>: <span class="str">"text"</span>,
            <span class="str">"text"</span>: <span class="str">"위 가이드라인을 기반으로 답변하세요."</span>
        }
    ],
    messages<span class="kw">=</span>[
        {<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="str">"두통 증상 완화 방법은?"</span>}
    ]
)</code></pre>
  </div>

  <h3 id="dynamic-system">동적 시스템 프롬프트</h3>
  <p>
    사용자 컨텍스트에 따라 시스템 프롬프트를 동적으로 생성할 수 있습니다.
  </p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python - 동적 생성</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code><span class="kw">def</span> <span class="fn">get_system_prompt</span>(user_level, language):
    base <span class="kw">=</span> <span class="str">"당신은 프로그래밍 튜터입니다."</span>

    <span class="kw">if</span> user_level <span class="kw">==</span> <span class="str">"beginner"</span>:
        base <span class="kw">+=</span> <span class="str">"\n초보자용 설명: 전문 용어는 쉬운 말로 풀어쓰세요."</span>
    <span class="kw">elif</span> user_level <span class="kw">==</span> <span class="str">"advanced"</span>:
        base <span class="kw">+=</span> <span class="str">"\n고급 개발자용: 최적화, 패턴, 아키텍처에 집중하세요."</span>

    base <span class="kw">+=</span> <span class="fn">f</span><span class="str">"\n주요 언어: {language}. 코드 예시는 {language}로 작성하세요."</span>

    <span class="kw">return</span> base

<span class="cmt"># 사용</span>
system <span class="kw">=</span> <span class="fn">get_system_prompt</span>(user_level<span class="kw">=</span><span class="str">"beginner"</span>, language<span class="kw">=</span><span class="str">"Python"</span>)</code></pre>
  </div>

  <h3 id="prompt-chaining">프롬프트 체이닝</h3>
  <p>
    복잡한 작업은 여러 단계로 나누고, 각 단계마다 다른 시스템 프롬프트를 사용하세요.
  </p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python - 프롬프트 체이닝</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code><span class="cmt"># 1단계: 데이터 추출</span>
extract <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">1024</span>,
    system<span class="kw">=</span><span class="str">"당신은 데이터 추출 전문가입니다. 텍스트에서 구조화된 정보만 JSON으로 출력하세요."</span>,
    messages<span class="kw">=</span>[{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: raw_text}]
)

extracted_data <span class="kw">=</span> extract.content[<span class="num">0</span>].text

<span class="cmt"># 2단계: 데이터 분석</span>
analyze <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">2048</span>,
    system<span class="kw">=</span><span class="str">"당신은 데이터 분석가입니다. JSON 데이터를 분석하고 인사이트를 도출하세요."</span>,
    messages<span class="kw">=</span>[{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: extracted_data}]
)

<span class="cmt"># 3단계: 보고서 작성</span>
report <span class="kw">=</span> client.messages.<span class="fn">create</span>(
    model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
    max_tokens<span class="kw">=</span><span class="num">3000</span>,
    system<span class="kw">=</span><span class="str">"당신은 기술 작가입니다. 분석 결과를 경영진용 보고서로 작성하세요."</span>,
    messages<span class="kw">=</span>[{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: analyze.content[<span class="num">0</span>].text}]
)</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="testing">시스템 프롬프트 테스트</h2>
  <p>
    효과적인 시스템 프롬프트는 반복적인 테스트와 개선을 통해 만들어집니다.
  </p>

  <h3 id="test-cases">테스트 케이스 작성</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python 테스트 예시</span>
      <button class="code-copy" aria-label="코드 복사">Copy</button>
    </div>
    <pre><code>test_cases <span class="kw">=</span> [
    {
        <span class="str">"input"</span>: <span class="str">"이 제품은 최고예요!"</span>,
        <span class="str">"expected_sentiment"</span>: <span class="str">"positive"</span>,
        <span class="str">"expected_confidence"</span>: <span class="kw">&gt;</span> <span class="num">0.8</span>
    },
    {
        <span class="str">"input"</span>: <span class="str">"배송이 너무 느려요."</span>,
        <span class="str">"expected_sentiment"</span>: <span class="str">"negative"</span>,
        <span class="str">"expected_confidence"</span>: <span class="kw">&gt;</span> <span class="num">0.7</span>
    }
]

<span class="kw">for</span> test <span class="kw">in</span> test_cases:
    result <span class="kw">=</span> client.messages.<span class="fn">create</span>(
        model<span class="kw">=</span><span class="str">"claude-sonnet-4-5-20250929"</span>,
        max_tokens<span class="kw">=</span><span class="num">256</span>,
        system<span class="kw">=</span>sentiment_system_prompt,
        messages<span class="kw">=</span>[{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: test[<span class="str">"input"</span>]}]
    )

    <span class="cmt"># 결과 검증</span>
    <span class="kw">assert</span> validate_output(result, test[<span class="str">"expected_sentiment"</span>])</code></pre>
  </div>

  <h3 id="iteration">반복 개선</h3>
  <ol>
    <li><strong>초기 버전:</strong> 간단한 시스템 프롬프트 작성</li>
    <li><strong>테스트:</strong> 다양한 입력으로 실험</li>
    <li><strong>실패 분석:</strong> 잘못된 응답 패턴 파악</li>
    <li><strong>개선:</strong> 시스템 프롬프트에 제약사항 추가</li>
    <li><strong>재테스트:</strong> 개선 효과 확인</li>
  </ol>
</section>

<section class="content-section">
  <h2 id="common-pitfalls">흔한 실수</h2>

  <h3 id="pitfall-1">1. 너무 긴 시스템 프롬프트</h3>
  <p>
    시스템 프롬프트도 입력 토큰으로 계산됩니다. 불필요하게 길면 비용과 지연 시간이 증가합니다.
  </p>
  <p><strong>해결:</strong> 핵심 지시사항만 포함하고, 예시는 2-3개로 제한</p>

  <h3 id="pitfall-2">2. 프롬프트 인젝션 취약점</h3>
  <p>
    사용자 입력을 시스템 프롬프트에 직접 삽입하면 보안 위험이 있습니다.
  </p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">❌ 위험한 패턴</span>
    </div>
    <pre><code>system <span class="kw">=</span> <span class="fn">f</span><span class="str">"당신의 이름은 {user_input}입니다."</span>  <span class="cmt"># 사용자가 시스템 프롬프트 조작 가능</span></code></pre>
  </div>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">✅ 안전한 패턴</span>
    </div>
    <pre><code>system <span class="kw">=</span> <span class="str">"당신은 고객 지원 AI입니다."</span>
messages <span class="kw">=</span> [{<span class="str">"role"</span>: <span class="str">"user"</span>, <span class="str">"content"</span>: <span class="fn">f</span><span class="str">"사용자 이름: {user_input}"</span>}]  <span class="cmt"># messages에만 포함</span></code></pre>
  </div>

  <h3 id="pitfall-3">3. 시스템 프롬프트와 메시지 중복</h3>
  <p>
    같은 지시사항을 시스템 프롬프트와 사용자 메시지에 반복하지 마세요.
  </p>
</section>

<section class="content-section">
  <h2 id="next-steps">다음 단계</h2>
  <p>시스템 프롬프트를 마스터했다면 다음 주제들을 탐색하세요:</p>

  <ul>
    <li><a href="prompt-basics.html">프롬프트 기본</a> - 효과적인 사용자 프롬프트 작성법</li>
    <li><a href="prompt-patterns.html">프롬프트 패턴</a> - 재사용 가능한 패턴 모음</li>
    <li><a href="chain-of-thought.html">Chain-of-Thought</a> - 고급 추론 기법</li>
    <li><a href="tool-use.html">Tool Use</a> - 시스템 프롬프트와 도구 통합</li>
  </ul>
</section>

<nav class="page-nav"></nav>

</main>

<aside class="inline-toc"></aside>
<footer class="site-footer"></footer>

</div>
<script src="../js/main.js"></script>
</body>
</html>
