<!DOCTYPE html>
<html lang="ko" data-theme="dark-kernel">
<head>
<!-- BEGIN: Google adsense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2110881342960271" crossorigin="anonymous"></script>
<!-- END: Google adsense -->
<!-- BEGIN: Google adsense repair -->
<script async src="https://fundingchoicesmessages.google.com/i/pub-2110881342960271?ers=1" nonce="laI6FT8gpRxugDJv5AGJRA"></script><script nonce="laI6FT8gpRxugDJv5AGJRA">(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>
<!-- END: Google adsense repair -->
<!-- BEGIN: Google analytics -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1VWQF060SX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1VWQF060SX');
</script>
<!-- END: Google analytics -->

<!-- Flash ë°©ì§€: ì¿ í‚¤ì—ì„œ í…Œë§ˆ ì¦‰ì‹œ ì ìš© -->
<script>
(function(){var m=document.cookie.match(/claude_theme=([^;]+)/);if(m)document.documentElement.setAttribute('data-theme',m[1]);})();
</script>
<meta charset="UTF-8">
<meta property="og:type" content="article">
<meta property="og:site_name" content="AI Vibe Coding ê°€ì´ë“œ /with MINZKN">
<meta property="og:title" content="NestJS Vibe Coding ê°€ì´ë“œ">
<meta property="og:description" content="NestJSë¡œ Vibe Codingì„ í™œìš©í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤. Angular-inspired Node.js í”„ë ˆì„ì›Œí¬ë¥¼ AIë¡œ êµ¬í˜„í•´ë³´ì„¸ìš”.">
<meta property="og:url" content="https://minzkn.com/claude/pages/nestjs-vibe.html">
<meta property="og:image" content="https://minzkn.com/claude/images/og-image.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="NestJSë¡œ Vibe Codingì„ í™œìš©í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤. Angular-inspired Node.js í”„ë ˆì„ì›Œí¬ë¥¼ AIë¡œ êµ¬í˜„í•´ë³´ì„¸ìš”.">
<meta name="keywords" content="NestJS Vibe Coding Node.js TypeScript DI ì˜ì¡´ì„±ì£¼ì… ëª¨ë“ˆ">
<meta name="author" content="MINZKN">
<title>NestJS Vibe Coding ê°€ì´ë“œ - AI Vibe Coding ê°€ì´ë“œ /with MINZKN</title>
<link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/joungkyun/font-d2coding/d2coding.css">
<link rel="stylesheet" href="../css/themes.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
<div class="page-wrapper">

<!-- ===== Header ===== -->
<header class="site-header">
</header>

<!-- ===== Side Navigation ===== -->
<nav class="side-nav" aria-label="ì‚¬ì´íŠ¸ ë‚´ë¹„ê²Œì´ì…˜">
</nav>

<!-- ===== Main Content ===== -->
<main class="main-content">
<div class="breadcrumb"></div>

<h1 id="top">NestJS Vibe Coding ê°€ì´ë“œ</h1>
<p class="page-description">NestJSë¡œ Vibe Codingì„ í™œìš©í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤. Angular-inspired Node.js í”„ë ˆì„ì›Œí¬ë¥¼ AIë¡œ êµ¬í˜„í•´ë³´ì„¸ìš”.</p>

<section class="content-section">
  <h2 id="overview">ê°œìš”</h2>
  <p>
    NestJSëŠ” Angularì—ì„œ ì˜ê°ì„ ë°›ì€ Node.js í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.
    ì˜ì¡´ì„± ì£¼ì…, ëª¨ë“ˆí™”, TypeScript ì§€ì›ì´ íŠ¹ì§•ì´ë©°, í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
  </p>

  <div class="info-box info">
    <div class="info-box-title">ğŸ“‹ NestJS ì¥ì </div>
    <ul>
      <li><strong>ì˜ì¡´ì„± ì£¼ì…</strong>: ëŠìŠ¨í•œ ê²°í•©, í…ŒìŠ¤íŠ¸ ìš©ì´</li>
      <li><strong>ëª¨ë“ˆ ì‹œìŠ¤í…œ</strong>: ëª…í™•í•œ êµ¬ì¡°</li>
      <li><strong>TypeScript</strong>: ê¸°ë³¸ ì§€ì›</li>
      <li><strong> Guards/Interceptors</strong>: ê³µí†µ ê¸°ëŠ¥</li>
      <li><strong>WebSockets</strong>: ì‹¤ì‹œê°„ ì§€ì›</li>
    </ul>
  </div>

  <h3 id="when-to-use">ì í•©í•œ ìƒí™©</h3>
  <ul>
    <li>ëŒ€ê·œëª¨ ì—”í„°í”„ë¼ì´ì¦ˆ ì•±</li>
    <li>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤</li>
    <li>ì‹¤ì‹œê°„ ì±„íŒ…</li>
    <li>REST/GraphQL API</li>
  </ul>
</section>

<section class="content-section">
  <h2 id="setup">í”„ë¡œì íŠ¸ ì„¤ì •</h2>
  <p>NestJS í”„ë¡œì íŠ¸ ì‹œì‘ì„ ìœ„í•œ í”„ë¡¬í”„íŠ¸ì…ë‹ˆë‹¤.</p>

  <h3 id="create-project">í”„ë¡œì íŠ¸ ìƒì„± ìš”ì²­</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Claudeì—ê²Œ ìš”ì²­</span>
    </div>
    <pre><code><span class="str">NestJSë¡œ íˆ¬ë‘ API ì„œë²„ë¥¼ ë§Œë“¤ì–´ì¤˜.</span>

<span class="str">ê¸°ìˆ  ìŠ¤íƒ:</span>
<span class="str">- NestJS</span>
<span class="str">- TypeScript</span>
<span class="str">- TypeORM + PostgreSQL</span>

<span class="str">ìš”êµ¬ì‚¬í•­:</span>
<span class="str">1. CRUD ì—”ë“œí¬ì¸íŠ¸</span>
<span class="str">2. DTO with class-validator</span>
<span class="str">3. TypeORM ì—”í‹°í‹°</span>
<span class="str">4. ëª¨ë“ˆ êµ¬ì¡°</span></code></pre>
  </div>

  <h3 id="folder-structure">í´ë” êµ¬ì¡°</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">NestJS</span>
    </div>
    <pre><code><span class="str">src/</span>
<span class="fn">â”œâ”€â”€ main.ts</span>             <span class="cmt"># ì—”íŠ¸ë¦¬</span>
<span class="fn">â”œâ”€â”€ app.module.ts</span>       <span class="cmt"># ë£¨íŠ¸ ëª¨ë“ˆ</span>
<span class="fn">â”œâ”€â”€ todos/</span>              <span class="cmt"># í”¼ì²˜ ëª¨ë“ˆ</span>
<span class="fn">â”‚   â”œâ”€â”€ todos.module.ts</span>
<span class="fn">â”‚   â”œâ”€â”€ todos.controller.ts</span>
<span class="fn">â”‚   â”œâ”€â”€ todos.service.ts</span>
<span class="fn">â”‚   â”œâ”€â”€ dto/</span>
<span class="fn">â”‚   â”‚   â””â”€â”€ create-todo.dto.ts</span>
<span class="fn">â”‚   â””â”€â”€ entities/</span>
<span class="fn">â”‚       â””â”€â”€ todo.entity.ts</span>
<span class="fn">â””â”€â”€ common/</span>             <span class="cmt"># ê³µí†µ</span>
<span class="fn">    â”œâ”€â”€ guards/</span>
<span class="fn">    â””â”€â”€ filters/</span></code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="controllers">ì»¨íŠ¸ë¡¤ëŸ¬</h2>
  <p>NestJSì˜ ë¼ìš°íŒ… ì‹œìŠ¤í…œì…ë‹ˆë‹¤.</p>

  <h3 id="controller-example">ì»¨íŠ¸ë¡¤ëŸ¬ ì˜ˆì‹œ</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript (todos.controller.ts)</span>
    </div>
    <pre><code><span class="kw">import</span> { <span class="fn">Controller</span>, <span class="fn">Get</span>, <span class="fn">Post</span>, <span class="fn">Body</span>, <span class="fn">Param</span>, <span class="fn">Delete</span>, <span class="fn">ParseIntPipe</span> } from <span class="str">'@nestjs/common'</span>;
<span class="kw">import</span> { <span class="fn">TodosService</span> } from <span class="str">'./todos.service'</span>;
<span class="kw">import</span> { <span class="fn">CreateTodoDto</span> } from <span class="str">'./dto/create-todo.dto'</span>;

<span class="fn">@Controller</span>(<span class="str">'todos'</span>)
<span class="kw">export</span> <span class="kw">class</span> <span class="type">TodosController</span> {
  <span class="fn">constructor</span>(<span class="kw">private readonly</span> todosService: <span class="type">TodosService</span>) {}

  <span class="fn">@Get</span>()
  <span class="fn">findAll</span>() {
    <span class="kw">return</span> <span class="kw">this</span>.todosService.<span class="fn">findAll</span>();
  }

  <span class="fn">@Get</span>(<span class="str">':id'</span>)
  <span class="fn">findOne</span>(<span class="fn">@Param</span>(<span class="str">'id'</span>, <span class="fn">ParseIntPipe</span>) id: <span class="type">number</span>) {
    <span class="kw">return</span> <span class="kw">this</span>.todosService.<span class="fn">findOne</span>(id);
  }

  <span class="fn">@Post</span>()
  <span class="fn">create</span>(<span class="fn">@Body</span>() createTodoDto: <span class="type">CreateTodoDto</span>) {
    <span class="kw">return</span> <span class="kw">this</span>.todosService.<span class="fn">create</span>(createTodoDto);
  }

  <span class="fn">@Delete</span>(<span class="str">':id'</span>)
  <span class="fn">remove</span>(<span class="fn">@Param</span>(<span class="str">'id'</span>, <span class="fn">ParseIntPipe</span>) id: <span class="type">number</span>) {
    <span class="kw">return</span> <span class="kw">this</span>.todosService.<span class="fn">remove</span>(id);
  }
}</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="services">ì„œë¹„ìŠ¤</h2>
  <p>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì…ë‹ˆë‹¤.</p>

  <h3 id="service-example">ì„œë¹„ìŠ¤ ì˜ˆì‹œ</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript (todos.service.ts)</span>
    </div>
    <pre><code><span class="kw">import</span> { <span class="fn">Injectable</span>, <span class="fn">NotFoundException</span> } from <span class="str">'@nestjs/common'</span>;
<span class="kw">import</span> { <span class="fn">Todo</span> } from <span class="str">'./entities/todo.entity'</span>;
<span class="kw">import</span> { <span class="fn">CreateTodoDto</span> } from <span class="str">'./dto/create-todo.dto'</span>;

<span class="fn">@Injectable</span>()
<span class="kw">export</span> <span class="kw">class</span> <span class="type">TodosService</span> {
  <span class="kw">private</span> todos: <span class="type">Todo[]</span> = [];

  <span class="fn">findAll</span>(): <span class="type">Todo[]</span> {
    <span class="kw">return</span> <span class="kw">this</span>.todos;
  }

  <span class="fn">findOne</span>(id: <span class="type">number</span>): <span class="type">Todo</span> {
    <span class="kw">const</span> todo = <span class="kw">this</span>.todos.<span class="fn">find</span>(t => t.id === id);
    <span class="kw">if</span> (!todo) {
      <span class="kw">throw new</span> <span class="type">NotFoundException</span>(<span class="str">`Todo #${id} not found`</span>);
    }
    <span class="kw">return</span> todo;
  }

  <span class="fn">create</span>(createTodoDto: <span class="type">CreateTodoDto</span>): <span class="type">Todo</span> {
    <span class="kw">const</span> todo: <span class="type">Todo</span> = {
      id: Date.<span class="fn">now</span>(),
      ...createTodoDto,
    };
    <span class="kw">this</span>.todos.<span class="fn">push</span>(todo);
    <span class="kw">return</span> todo;
  }

  <span class="fn">remove</span>(id: <span class="type">number</span>): <span class="type">void</span> {
    <span class="kw">const</span> index = <span class="kw">this</span>.todos.<span class="fn">findIndex</span>(t => t.id === id);
    <span class="kw">if</span> (index === <span class="num">-1</span>) {
      <span class="kw">throw new</span> <span class="type">NotFoundException</span>(<span class="str">`Todo #${id} not found`</span>);
    }
    <span class="kw">this</span>.todos.<span class="fn">splice</span>(index, <span class="num">1</span>);
  }
}</code></pre>
</section>

<section class="content-section">
  <h2 id="modules">ëª¨ë“ˆ</h2>
  <p>NestJSì˜ ëª¨ë“ˆ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.</p>

  <h3 id="module-example">ëª¨ë“ˆ ì˜ˆì‹œ</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript (todos.module.ts)</span>
    </div>
    <pre><code><span class="kw">import</span> { <span class="fn">Module</span> } from <span class="str">'@nestjs/common'</span>;
<span class="kw">import</span> { <span class="fn">TodosController</span> } from <span class="str">'./todos.controller'</span>;
<span class="kw">import</span> { <span class="fn">TodosService</span> } from <span class="str">'./todos.service'</span>;

<span class="fn">@Module</span>({
  <span class="fn">controllers</span>: [TodosController],
  <span class="fn">providers</span>: [TodosService],
  <span class="fn">exports</span>: [TodosService],
})
<span class="kw">export</span> <span class="kw">class</span> <span class="type">TodosModule</span> {}</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="dtos">DTOì™€ ê²€ì¦</h2>
  <p>ë°ì´í„° ì „ì†¡ ê°ì²´ì…ë‹ˆë‹¤.</p>

  <h3 id="dto-example">DTO ì˜ˆì‹œ</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript (dto/create-todo.dto.ts)</span>
    </div>
    <pre><code><span class="kw">import</span> { <span class="fn">IsString</span>, <span class="fn">IsNotEmpty</span>, <span class="fn">IsOptional</span>, <span class="fn">IsBoolean</span> } from <span class="str">'class-validator'</span>;

<span class="kw">export</span> <span class="kw">class</span> <span class="type">CreateTodoDto</span> {
  <span class="fn">@IsString</span>()
  <span class="fn">@IsNotEmpty</span>()
  <span class="fn">title</span>: <span class="type">string</span>;

  <span class="fn">@IsString</span>()
  <span class="fn">@IsOptional</span>()
  <span class="fn">description</span>?: <span class="type">string</span>;

  <span class="fn">@IsBoolean</span>()
  <span class="fn">@IsOptional</span>()
  <span class="fn">completed</span>?: <span class="type">boolean</span>;
}</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="deployment">ë°°í¬</h2>
  <p>NestJS ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ê°€ì´ë“œì…ë‹ˆë‹¤.</p>

  <h3 id="build">ë¹Œë“œ ë° ì‹¤í–‰</h3>
  <div class="info-box tip">
    <div class="info-box-title">ğŸ’¡ ë°°í¬ í”Œë«í¼</div>
    <ul>
      <li><strong>Vercel</strong>: NestJS ì§€ì›</li>
      <li><strong>Railway</strong>: í”„ë¡œë¹„ì €ë‹</li>
      <li><strong>AWS ECS</strong>: Docker ë°°í¬</li>
    </ul>
  </div>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Bash</span>
    </div>
    <pre><code><span class="cmt"># ë¹Œë“œ</span>
<span class="fn">npm run build</span>

<span class="cmt"># ì‹¤í–‰</span>
<span class="fn">node dist/main</span></code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="best-practices">ëª¨ë²” ì‚¬ë¡€</h2>
  <ul>
    <li><strong>ëª¨ë“ˆ</strong>: ê¸°ëŠ¥ë³„ ëª¨ë“ˆí™”</li>
    <li><strong>DTO</strong>: class-validatorë¡œ ê²€ì¦</li>
    <li><strong>ì˜ì¡´ì„± ì£¼ì…</strong>: constructor ì£¼ì…</li>
    <li><strong>Guards</strong>: ì¸ì¦/ì¸ê°€</li>
  </ul>
</section>

<section class="content-section">
  <h2 id="guards">Guard (ì¸ì¦/ì¸ê°€)</h2>
  <p>GuardëŠ” íŠ¹ì • ì—”ë“œí¬ì¸íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ ê²°ì •í•©ë‹ˆë‹¤. ì¸ì¦/ì¸ê°€ì— ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>

  <h3 id="jwt-guard">JWT ì¸ì¦ Guard</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Bash â€” ì„¤ì¹˜</span>
    </div>
    <pre><code><span class="fn">npm install</span> @nestjs/jwt @nestjs/passport passport passport-jwt
<span class="fn">npm install</span> -D @types/passport-jwt</code></pre>
  </div>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript (auth/jwt-auth.guard.ts)</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="kw">import</span> { Injectable, ExecutionContext, UnauthorizedException } from <span class="str">'@nestjs/common'</span>;
<span class="kw">import</span> { AuthGuard } from <span class="str">'@nestjs/passport'</span>;
<span class="kw">import</span> { Reflector } from <span class="str">'@nestjs/core'</span>;

<span class="cmt">// ê³µê°œ ë¼ìš°íŠ¸ ë§ˆí‚¹ìš© ë°ì½”ë ˆì´í„°</span>
<span class="kw">import</span> { SetMetadata } from <span class="str">'@nestjs/common'</span>;
<span class="kw">export const</span> <span class="fn">Public</span> = () => <span class="fn">SetMetadata</span>(<span class="str">'isPublic'</span>, <span class="kw">true</span>);

<span class="fn">@Injectable</span>()
<span class="kw">export class</span> <span class="type">JwtAuthGuard</span> extends <span class="fn">AuthGuard</span>(<span class="str">'jwt'</span>) {
  <span class="fn">constructor</span>(<span class="kw">private</span> reflector: <span class="type">Reflector</span>) {
    <span class="fn">super</span>();
  }

  <span class="fn">canActivate</span>(context: <span class="type">ExecutionContext</span>) {
    <span class="cmt">// @Public() ë°ì½”ë ˆì´í„°ê°€ ìˆìœ¼ë©´ ì¸ì¦ ê±´ë„ˆëœ€</span>
    <span class="kw">const</span> isPublic = <span class="kw">this</span>.reflector.<span class="fn">getAllAndOverride</span>&lt;<span class="type">boolean</span>&gt;(<span class="str">'isPublic'</span>, [
      context.<span class="fn">getHandler</span>(),
      context.<span class="fn">getClass</span>(),
    ]);
    <span class="kw">if</span> (isPublic) <span class="kw">return</span> <span class="kw">true</span>;
    <span class="kw">return</span> <span class="kw">super</span>.<span class="fn">canActivate</span>(context);
  }

  <span class="fn">handleRequest</span>(err: <span class="type">any</span>, user: <span class="type">any</span>) {
    <span class="kw">if</span> (err || !user) {
      <span class="kw">throw</span> err || <span class="kw">new</span> <span class="type">UnauthorizedException</span>(<span class="str">'ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ì…ë‹ˆë‹¤'</span>);
    }
    <span class="kw">return</span> user;
  }
}</code></pre>
  </div>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript (auth/roles.guard.ts) â€” RBAC ê¶Œí•œ ì²´í¬</span>
    </div>
    <pre><code><span class="kw">import</span> { Injectable, CanActivate, ExecutionContext, ForbiddenException } from <span class="str">'@nestjs/common'</span>;
<span class="kw">import</span> { Reflector } from <span class="str">'@nestjs/core'</span>;
<span class="kw">import</span> { SetMetadata } from <span class="str">'@nestjs/common'</span>;

<span class="kw">export type</span> <span class="type">Role</span> = <span class="str">'admin'</span> | <span class="str">'user'</span> | <span class="str">'guest'</span>;
<span class="kw">export const</span> <span class="fn">Roles</span> = (...roles: <span class="type">Role</span>[]) => <span class="fn">SetMetadata</span>(<span class="str">'roles'</span>, roles);

<span class="fn">@Injectable</span>()
<span class="kw">export class</span> <span class="type">RolesGuard</span> implements <span class="type">CanActivate</span> {
  <span class="fn">constructor</span>(<span class="kw">private</span> reflector: <span class="type">Reflector</span>) {}

  <span class="fn">canActivate</span>(context: <span class="type">ExecutionContext</span>): <span class="type">boolean</span> {
    <span class="kw">const</span> required = <span class="kw">this</span>.reflector.<span class="fn">getAllAndOverride</span>&lt;<span class="type">Role</span>[]&gt;(<span class="str">'roles'</span>, [
      context.<span class="fn">getHandler</span>(),
      context.<span class="fn">getClass</span>(),
    ]);
    <span class="kw">if</span> (!required?.length) <span class="kw">return</span> <span class="kw">true</span>;

    <span class="kw">const</span> { user } = context.<span class="fn">switchToHttp</span>().<span class="fn">getRequest</span>();
    <span class="kw">if</span> (!required.<span class="fn">includes</span>(user?.role)) {
      <span class="kw">throw new</span> <span class="type">ForbiddenException</span>(<span class="str">'ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤'</span>);
    }
    <span class="kw">return</span> <span class="kw">true</span>;
  }
}

<span class="cmt">// ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì‚¬ìš©</span>
<span class="fn">@Get</span>(<span class="str">'admin'</span>)
<span class="fn">@Roles</span>(<span class="str">'admin'</span>)
<span class="fn">adminOnly</span>() {
  <span class="kw">return</span> <span class="str">'ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥'</span>;
}</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="interceptors">Interceptor (ìš”ì²­/ì‘ë‹µ ë³€í™˜)</h2>
  <p>InterceptorëŠ” ìš”ì²­/ì‘ë‹µì„ ê°€ë¡œì±„ ë¡œê¹…, ì‘ë‹µ í˜•ì‹ ë³€í™˜, ìºì‹± ë“±ì— í™œìš©í•©ë‹ˆë‹¤.</p>

  <h3 id="logging-interceptor">ë¡œê¹… Interceptor</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript (common/logging.interceptor.ts)</span>
      <button class="code-copy" aria-label="ì½”ë“œ ë³µì‚¬">Copy</button>
    </div>
    <pre><code><span class="kw">import</span> { Injectable, NestInterceptor, ExecutionContext, CallHandler, Logger } from <span class="str">'@nestjs/common'</span>;
<span class="kw">import</span> { Observable } from <span class="str">'rxjs'</span>;
<span class="kw">import</span> { tap } from <span class="str">'rxjs/operators'</span>;

<span class="fn">@Injectable</span>()
<span class="kw">export class</span> <span class="type">LoggingInterceptor</span> implements <span class="type">NestInterceptor</span> {
  <span class="kw">private</span> logger = <span class="kw">new</span> <span class="type">Logger</span>(<span class="str">'HTTP'</span>);

  <span class="fn">intercept</span>(context: <span class="type">ExecutionContext</span>, next: <span class="type">CallHandler</span>): <span class="type">Observable</span>&lt;<span class="type">any</span>&gt; {
    <span class="kw">const</span> req  = context.<span class="fn">switchToHttp</span>().<span class="fn">getRequest</span>();
    <span class="kw">const</span> { method, url } = req;
    <span class="kw">const</span> start = Date.<span class="fn">now</span>();

    <span class="kw">return</span> next.<span class="fn">handle</span>().<span class="fn">pipe</span>(
      <span class="fn">tap</span>(() => {
        <span class="kw">const</span> elapsed = Date.<span class="fn">now</span>() - start;
        <span class="kw">this</span>.logger.<span class="fn">log</span>(<span class="str">`${method} ${url} - ${elapsed}ms`</span>);
      }),
    );
  }
}</code></pre>
  </div>

  <h3 id="transform-interceptor">ì‘ë‹µ í˜•ì‹ í†µì¼ Interceptor</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">TypeScript (common/transform.interceptor.ts)</span>
    </div>
    <pre><code><span class="kw">import</span> { Injectable, NestInterceptor, ExecutionContext, CallHandler } from <span class="str">'@nestjs/common'</span>;
<span class="kw">import</span> { Observable } from <span class="str">'rxjs'</span>;
<span class="kw">import</span> { map } from <span class="str">'rxjs/operators'</span>;

<span class="kw">export interface</span> <span class="type">Response</span>&lt;<span class="type">T</span>&gt; {
  success: <span class="type">boolean</span>;
  data: <span class="type">T</span>;
  timestamp: <span class="type">string</span>;
}

<span class="fn">@Injectable</span>()
<span class="kw">export class</span> <span class="type">TransformInterceptor</span>&lt;<span class="type">T</span>&gt; implements <span class="type">NestInterceptor</span>&lt;<span class="type">T</span>, <span class="type">Response</span>&lt;<span class="type">T</span>&gt;&gt; {
  <span class="fn">intercept</span>(context: <span class="type">ExecutionContext</span>, next: <span class="type">CallHandler</span>): <span class="type">Observable</span>&lt;<span class="type">Response</span>&lt;<span class="type">T</span>&gt;&gt; {
    <span class="kw">return</span> next.<span class="fn">handle</span>().<span class="fn">pipe</span>(
      <span class="fn">map</span>(data => ({
        success: <span class="kw">true</span>,
        data,
        timestamp: <span class="kw">new</span> <span class="type">Date</span>().<span class="fn">toISOString</span>(),
      })),
    );
  }
}

<span class="cmt">// main.tsì—ì„œ ì „ì—­ ì ìš©</span>
app.<span class="fn">useGlobalInterceptors</span>(<span class="kw">new</span> <span class="type">TransformInterceptor</span>());
app.<span class="fn">useGlobalGuards</span>(app.<span class="fn">get</span>(<span class="type">JwtAuthGuard</span>));

<span class="cmt">// ì‘ë‹µ ì˜ˆì‹œ:</span>
<span class="cmt">// { "success": true, "data": { "id": 1, ... }, "timestamp": "2026-02-19T..." }</span></code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="references">ì°¸ê³ ìë£Œ</h2>
  <ul>
    <li><a href="https://docs.nestjs.com" target="_blank" rel="noopener">NestJS ê³µì‹ ë¬¸ì„œ</a></li>
    <li><a href="https://docs.nestjs.com/guards" target="_blank" rel="noopener">Guards ê°€ì´ë“œ</a></li>
    <li><a href="https://docs.nestjs.com/interceptors" target="_blank" rel="noopener">Interceptors ê°€ì´ë“œ</a></li>
  </ul>
</section>

<!-- Page Navigation (ì´ì „/ë‹¤ìŒ) -->
<div class="page-nav"></div>

</main>

<!-- ===== TOC Sidebar ===== -->
<aside class="inline-toc">
  <div class="toc-title">ëª©ì°¨</div>
  <div class="toc-nav"></div>
</aside>

<!-- ===== Footer ===== -->
<footer class="site-footer">
</footer>

</div>

<script src="../js/main.js"></script>
</body>
</html>
