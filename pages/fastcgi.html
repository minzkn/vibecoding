<!DOCTYPE html>
<html lang="ko" data-theme="dark-kernel">
<head>
<!-- BEGIN: Google adsense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2110881342960271" crossorigin="anonymous"></script>
<!-- END: Google adsense -->
<!-- BEGIN: Google adsense repair -->
<script async src="https://fundingchoicesmessages.google.com/i/pub-2110881342960271?ers=1" nonce="laI6FT8gpRxugDJv5AGJRA"></script><script nonce="laI6FT8gpRxugDJv5AGJRA">(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>
<!-- END: Google adsense repair -->
<!-- BEGIN: Google analytics -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1VWQF060SX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1VWQF060SX');
</script>
<!-- END: Google analytics -->

<!-- Flash ë°©ì§€: ì¿ í‚¤ì—ì„œ í…Œë§ˆ ì¦‰ì‹œ ì ìš© -->
<script>
(function(){var m=document.cookie.match(/claude_theme=([^;]+)/);if(m)document.documentElement.setAttribute('data-theme',m[1]);})();
</script>
<meta charset="UTF-8">
<meta property="og:type" content="article">
<meta property="og:site_name" content="AI Vibe Coding ê°€ì´ë“œ /with MINZKN">
<meta property="og:title" content="FastCGI - ê¸°ìˆ  ìŠ¤íƒ ê°€ì´ë“œ">
<meta property="og:description" content="FastCGI í”„ë¡œí† ì½œì˜ ì›ë¦¬, êµ¬í˜„, Apache/Nginx ì—°ë™, ì„±ëŠ¥ ìµœì í™”ê¹Œì§€ ìƒì„¸í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.">
<meta property="og:url" content="https://minzkn.com/claude/pages/fastcgi.html">
<meta property="og:image" content="https://minzkn.com/claude/images/og-image.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="FastCGI í”„ë¡œí† ì½œì˜ ì›ë¦¬, êµ¬í˜„, Apache/Nginx ì—°ë™, ì„±ëŠ¥ ìµœì í™”ê¹Œì§€ ìƒì„¸í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.">
<meta name="keywords" content="fastcgi cgi webserver nginx apache performance">
<meta name="author" content="MINZKN">
<title>FastCGI - ê¸°ìˆ  ìŠ¤íƒ ê°€ì´ë“œ - AI Vibe Coding ê°€ì´ë“œ /with MINZKN</title>
<link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/joungkyun/font-d2coding/d2coding.css">
<link rel="stylesheet" href="../css/themes.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
<div class="page-wrapper">

<!-- ===== Header ===== -->
<header class="site-header">
</header>

<!-- ===== Side Navigation ===== -->
<nav class="side-nav" aria-label="ì‚¬ì´íŠ¸ ë‚´ë¹„ê²Œì´ì…˜">
</nav>

<!-- ===== Main Content ===== -->
<main class="main-content">
<div class="breadcrumb"></div>

<h1 id="top">FastCGI - ê¸°ìˆ  ìŠ¤íƒ ê°€ì´ë“œ</h1>
<p class="page-description">FastCGI í”„ë¡œí† ì½œì˜ ì›ë¦¬ë¶€í„° êµ¬í˜„, ì›¹ ì„œë²„ ì—°ë™, ì„±ëŠ¥ ìµœì í™”ê¹Œì§€ ìƒì„¸í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.</p>

<section class="content-section">
  <h2 id="overview">FastCGI ê°œìš”</h2>
  <p>
    FastCGIëŠ” ì›¹ ì„œë²„ì™€ ì™¸ë¶€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ì´ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤.
    ì „í†µì ì¸ CGIì˜ ë‹¨ì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆìœ¼ë©°, ë†’ì€ ì„±ëŠ¥ê³¼ í™•ì¥ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.
    PHP, Python, Ruby ë“± ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ ì‘ì„±ëœ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ë° ë„ë¦¬ ì‚¬ìš©ë©ë‹ˆë‹¤.
  </p>

  <div class="info-box info">
    <div class="info-box-title">ğŸ“‹ FastCGIê°€ í•„ìš”í•œ ì´ìœ </div>
    <ul>
      <li><strong>CGIì˜ í•œê³„ ê·¹ë³µ</strong>: ìš”ì²­ë§ˆë‹¤ ìƒˆ í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” CGIì˜ ë¹„íš¨ìœ¨ì„± í•´ê²°</li>
      <li><strong>ì§€ì†ì  í”„ë¡œì„¸ìŠ¤</strong>: í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ìœ ì§€ë˜ì–´ ë°˜ë³µì ì¸ ì´ˆê¸°í™” ë¹„ìš© ì ˆê°</li>
      <li><strong>ë™ì‹œ ì²˜ë¦¬</strong>: ì—¬ëŸ¬ ìš”ì²­ì„ ë™ì‹œì— ì²˜ë¦¬ ê°€ëŠ¥í•œ ë‹¤ì¤‘ ìŠ¤ë ˆë“œ ì§€ì›</li>
      <li><strong>ë¶„ì‚° ì•„í‚¤í…ì²˜</strong>: ì›¹ ì„œë²„ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¥¼ ë¶„ë¦¬ ê°€ëŠ¥</li>
    </ul>
  </div>

  <h3 id="cgi-vs-fastcgi">CGI vs FastCGI ë¹„êµ</h3>
  <table>
    <thead>
      <tr>
        <th>íŠ¹ì§•</th>
        <th>CGI</th>
        <th>FastCGI</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>í”„ë¡œì„¸ìŠ¤ ìƒì„±</td>
        <td>ë§¤ ìš”ì²­ë§ˆë‹¤ ìƒˆ í”„ë¡œì„¸ìŠ¤</td>
        <td>í”„ë¡œì„¸ìŠ¤ ì¬ì‚¬ìš©</td>
      </tr>
      <tr>
        <td>ì„±ëŠ¥</td>
        <td>ë‚®ìŒ</td>
        <td>ë†’ìŒ</td>
      </tr>
      <tr>
        <td>ë™ì‹œì„±</td>
        <td>ì œí•œì </td>
        <td>ë†’ìŒ (ë‹¤ì¤‘ ìŠ¤ë ˆë“œ)</td>
      </tr>
      <tr>
        <td>ë©”ëª¨ë¦¬ ì‚¬ìš©</td>
        <td>ìš”ì²­ë§ˆë‹¤ ìƒˆ ë©”ëª¨ë¦¬</td>
        <td>í”„ë¡œì„¸ìŠ¤ë‹¹ í•œ ë²ˆ</td>
      </tr>
      <tr>
        <td>í™•ì¥ì„±</td>
        <td>ì œí•œì </td>
        <td>ë†’ìŒ</td>
      </tr>
    </tbody>
  </table>
</section>

<section class="content-section">
  <h2 id="how-it-works">FastCGI ì‘ë™ ì›ë¦¬</h2>
  <p>FastCGIëŠ” í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.</p>

  <div class="diagram-container">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 350"
         style="width:100%;max-width:700px;display:block;margin:1.5em auto;">
      <defs>
        <marker id="fcgi-arrow" viewBox="0 0 10 7" refX="10" refY="3.5"
                markerWidth="10" markerHeight="7" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="var(--diagram-arrow)"/>
        </marker>
      </defs>

      <!-- Client -->
      <rect x="50" y="30" width="120" height="50" rx="6"
            fill="var(--bg-secondary)" stroke="var(--accent-primary)" stroke-width="2"/>
      <text x="110" y="60" text-anchor="middle" fill="var(--diagram-text)" font-size="13">
        Browser/Client
      </text>

      <!-- Web Server -->
      <rect x="250" y="30" width="150" height="50" rx="6"
            fill="var(--bg-secondary)" stroke="var(--accent-primary)" stroke-width="2"/>
      <text x="325" y="60" text-anchor="middle" fill="var(--diagram-text)" font-size="13">
        Web Server
      </text>
      <text x="325" y="75" text-anchor="middle" fill="var(--text-secondary)" font-size="10">
        (Nginx/Apache)
      </text>

      <!-- Arrow: Client -> Web Server -->
      <line x1="170" y1="55" x2="245" y2="55"
            stroke="var(--diagram-arrow)" stroke-width="2" marker-end="url(#fcgi-arrow)"/>
      <text x="207" y="45" text-anchor="middle" fill="var(--text-secondary)" font-size="10">
        HTTP Request
      </text>

      <!-- FastCGI Process Manager -->
      <rect x="250" y="130" width="150" height="50" rx="6"
            fill="var(--bg-secondary)" stroke="var(--diagram-accent)" stroke-width="2"/>
      <text x="325" y="160" text-anchor="middle" fill="var(--diagram-text)" font-size="13">
        FastCGI Process
      </text>

      <!-- Arrow: Web Server -> FastCGI -->
      <line x1="325" y1="80" x2="325" y2="125"
            stroke="var(--diagram-arrow)" stroke-width="2" marker-end="url(#fcgi-arrow)"/>
      <text x="340" y="107" text-anchor="middle" fill="var(--text-secondary)" font-size="10">
        FastCGI Protocol
      </text>

      <!-- Application -->
      <rect x="450" y="130" width="150" height="50" rx="6"
            fill="var(--bg-secondary)" stroke="var(--diagram-accent)" stroke-width="2"/>
      <text x="525" y="160" text-anchor="middle" fill="var(--diagram-text)" font-size="13">
        Application
      </text>
      <text x="525" y="175" text-anchor="middle" fill="var(--text-secondary)" font-size="10">
        (PHP/Python/Ruby)
      </text>

      <!-- Arrow: FastCGI -> Application -->
      <line x1="400" y1="155" x2="445" y2="155"
            stroke="var(--diagram-arrow)" stroke-width="2" marker-end="url(#fcgi-arrow)"/>

      <!-- Database -->
      <rect x="500" y="230" width="100" height="40" rx="6"
            fill="var(--bg-secondary)" stroke="var(--border-color)" stroke-width="1.5"/>
      <text x="550" y="255" text-anchor="middle" fill="var(--diagram-text)" font-size="11">
        Database
      </text>

      <!-- Arrow: Application -> Database -->
      <line x1="525" y1="180" x2="550" y2="225"
            stroke="var(--diagram-arrow)" stroke-width="2" marker-end="url(#fcgi-arrow)"/>

      <!-- Arrow: Response path -->
      <line x1="525" y1="90" x2="175" y2="90"
            stroke="var(--diagram-accent)" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#fcgi-arrow)"/>
      <text x="350" y="80" text-anchor="middle" fill="var(--text-secondary)" font-size="10">
        HTTP Response
      </text>
    </svg>
    <p class="diagram-caption">ê·¸ë¦¼ 1: FastCGI ì•„í‚¤í…ì²˜</p>
  </div>

  <h3 id="protocol-details">í”„ë¡œí† ì½œ ìƒì„¸</h3>
  <p>FastCGI í”„ë¡œí† ì½œì€ ë ˆì½”ë“œ ê¸°ë°˜ í†µì‹ ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ê° ë ˆì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:</p>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">FastCGI Record Structure</span>
    </div>
    <pre><code><span class="cmt">// FastCGI ë ˆì½”ë“œ í—¤ë” (8ë°”ì´íŠ¸)</span>
<span class="kw">typedef</span> <span class="kw">struct</span> {
  <span class="type">uint8</span>  version;           <span class="cmt">// í”„ë¡œí† ì½œ ë²„ì „</span>
  <span class="type">uint8</span>  type;              <span class="cmt">// ë ˆì½”ë“œ íƒ€ì…</span>
  <span class="type">uint16</span> requestId;        <span class="cmt">// ìš”ì²­ ID</span>
  <span class="type">uint16</span> contentLength;    <span class="cmt">// ë³¸ë¬¸ ê¸¸ì´</span>
  <span class="type">uint8</span>  paddingLength;    <span class="cmt">// íŒ¨ë”© ê¸¸ì´</span>
  <span class="type">uint8</span>  reserved;         <span class="cmt">// ì˜ˆì•½ ì˜ì—­</span>
} <span class="type">FCGI_Header</span>;

<span class="cmt">// ì£¼ìš” ë ˆì½”ë“œ íƒ€ì…</span>
<span class="num">1</span>  FCGI_BEGIN_REQUEST     <span class="cmt">// ìš”ì²­ ì‹œì‘</span>
<span class="num">2</span>  FCGI_ABORT_REQUEST    <span class="cmt">// ìš”ì²­ä¸­æ­¢</span>
<span class="num">3</span>  FCGI_PARAMS           <span class="cmt">// í™˜ê²½ ë³€ìˆ˜</span>
<span class="num">4</span>  FCGI_STDIN            <span class="cmt">// í‘œì¤€ ì…ë ¥</span>
<span class="num">5</span>  FCGI_STDOUT           <span class="cmt">// í‘œì¤€ ì¶œë ¥</span>
<span class="num">6</span>  FCGI_STDERR           <span class="cmt">// í‘œì¤€ ì—ëŸ¬</span>
<span class="num">7</span>  FCGI_DATA            <span class="cmt">// ë°ì´í„°</span>
<span class="num">10</span> FCGI_END_REQUEST     <span class="cmt">// ìš”ì²­ ì¢…ë£Œ</span></code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="nginx-integration">Nginx + FastCGI</h2>
  <p>Nginxì—ì„œ FastCGIë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤. NginxëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì •ì  íŒŒì¼ ì„œë¹™ì— ìµœì í™”ë˜ì–´ ìˆì–´, ë™ì  ì½˜í…ì¸ ëŠ” FastCGIë¥¼ í†µí•´ ì™¸ë¶€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>

  <h3 id="nginx-install">Nginx ì„¤ì¹˜</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Ubuntu/Debian</span>
    </div>
    <pre><code><span class="cmt"># Nginx ì„¤ì¹˜</span>
<span class="fn">sudo apt update</span>
<span class="fn">sudo apt install nginx</span>

<span class="cmt"># PHP-FPM ì„¤ì¹˜ (PHPë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°)</span>
<span class="fn">sudo apt install php-fpm php-mysql</span>

<span class="cmt"># ì„œë¹„ìŠ¤ ì‹œì‘</span>
<span class="fn">sudo systemctl start nginx</span>
<span class="fn">sudo systemctl enable nginx</span></code></pre>
  </div>

  <h3 id="nginx-config">Nginx ì„¤ì •</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Nginx Config (/etc/nginx/sites-available/default)</span>
    </div>
    <pre><code><span class="kw">server</span> {
    <span class="fn">listen</span> <span class="num">80</span>;
    <span class="fn">server_name</span> example.com www.example.com;
    <span class="fn">root</span> /var/www/html;
    <span class="fn">index</span> index.php index.html;

    <span class="cmt"># ì •ì  íŒŒì¼ ìºì‹±</span>
    <span class="fn">location</span> ~* \.(jpg|jpeg|png|gif|ico|css|js)$ {
        <span class="fn">expires</span> <span class="num">30d</span>;
        <span class="fn">add_header</span> Cache-Control <span class="str">"public, no-transform"</span>;
    }

    <span class="cmt"># PHP-FPMìœ¼ë¡œ í”„ë¡ì‹œ</span>
    <span class="fn">location</span> ~ \.php$ {
        <span class="fn">include</span> snippets/fastcgi-php.conf;
        <span class="fn">fastcgi_pass</span> unix:/run/php/php-fpm.sock;
        <span class="fn">fastcgi_param</span> SCRIPT_FILENAME $document_root$fastcgi_script_name;
        <span class="fn">include</span> fastcgi_params;
    }

    <span class="cmt"># FastCGI ë²„í¼ ì„¤ì •</span>
    <span class="fn">fastcgi_buffer_size</span> <span class="num">128k</span>;
    <span class="fn">fastcgi_buffers</span> <span class="num">4</span> <span class="num">256k</span>;
    <span class="fn">fastcgi_busy_buffers_size</span> <span class="num">256k</span>;

    <span class="cmt"># íƒ€ì„ì•„ì›ƒ ì„¤ì •</span>
    <span class="fn">fastcgi_connect_timeout</span> <span class="num">60s</span>;
    <span class="fn">fastcgi_send_timeout</span> <span class="num">60s</span>;
    <span class="fn">fastcgi_read_timeout</span> <span class="num">60s</span>;
}</code></pre>
  </div>

  <h3 id="nginx-upstream">Upstream ì„¤ì •</h3>
  <p>ë‹¤ì¤‘ ì„œë²„ ë˜ëŠ” ë¡œë“œë°¸ëŸ°ì‹±ì´ í•„ìš”í•œ ê²½ìš° upstream ë¸”ë¡ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Nginx Upstream Config</span>
    </div>
    <pre><code><span class="cmt"># ë‹¤ì¤‘ FastCGI ì„œë²„ ì„¤ì •</span>
<span class="kw">upstream</span> php_backend {
    <span class="fn">server</span> <span class="num">127.0.0.1</span>:<span class="num">9000</span> weight=<span class="num">5</span>;
    <span class="fn">server</span> <span class="num">127.0.0.1</span>:<span class="num">9001</span> weight=<span class="num">3</span>;
    <span class="fn">server</span> <span class="num">127.0.0.1</span>:<span class="num">9002</span> backup;
    <span class="fn">keepalive</span> <span class="num">32</span>;
}

<span class="kw">server</span> {
    <span class="fn">location</span> ~ \.php$ {
        <span class="fn">fastcgi_pass</span> php_backend;
        <span class="fn">fastcgi_keep_conn</span> on;
    }
}</code></pre>
  </div>

  <div class="info-box tip">
    <div class="info-box-title">ğŸ’¡ Nginx FastCGI íŒ</div>
    <ul>
      <li><strong>ã‚½ã‚±ãƒƒãƒˆ vs TCP</strong>: ë¡œì»¬ì—ì„œëŠ” Unixã‚½ã‚±ãƒƒãƒˆ, ë¶„ì‚° í™˜ê²½ì—ì„œëŠ” TCP</li>
      <li><strong>ë²„í¼ í¬ê¸°</strong>: í° ì‘ë‹µì€ ë²„í¼ í¬ê¸° ì¡°ì • í•„ìš”</li>
      <li><strong>Keep-Alive</strong>: ì—°ê²° ì¬ì‚¬ìš©ìœ¼ë¡œ ì„±ëŠ¥ í–¥ìƒ</li>
      <li><strong>Gzip ì••ì¶•</strong>: ì‘ë‹µ ë°ì´í„° ì••ì¶•ìœ¼ë¡œ ëŒ€ì—­í­ ì ˆì•½</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="apache-integration">Apache + FastCGI</h2>
  <p>Apacheì—ì„œ FastCGIë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ApacheëŠ” mod_fcgid ë˜ëŠ” mod_proxy_fcgi ëª¨ë“ˆì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

  <h3 id="apache-install">Apache ì„¤ì¹˜</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Ubuntu/Debian</span>
    </div>
    <pre><code><span class="cmt"># Apache ì„¤ì¹˜</span>
<span class="fn">sudo apt install apache2</span>

<span class="cmt"># í•„ìˆ˜ ëª¨ë“ˆ í™œì„±í™”</span>
<span class="fn">sudo a2enmod proxy</span>
<span class="fn">sudo a2enmod proxy_fcgi</span>
<span class="fn">sudo a2enmod setenvif</span>

<span class="cmt"># PHP-FPM ì„¤ì¹˜</span>
<span class="fn">sudo apt install php-fpm</span>

<span class="cmt"># Apache ì¬ì‹œì‘</span>
<span class="fn">sudo systemctl restart apache2</span></code></pre>
  </div>

  <h3 id="apache-config">Apache ì„¤ì •</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Apache Config (/etc/apache2/sites-available/example.conf)</span>
    </div>
    <pre><code><span class="kw">&lt;VirtualHost *:80&gt;</span>
    <span class="fn">ServerName</span> example.com
    <span class="fn">DocumentRoot</span> /var/www/html

    <span class="cmt"># PHP-FPMìœ¼ë¡œ í”„ë¡ì‹œ</span>
    <span class="kwMatch \">&lt;Files.php$&gt;</span>
        <span class="fn">SetHandler</span> "proxy:unix:/run/php/php-fpm.sock|fcgi://localhost"
    <span class="kw">&lt;/FilesMatch&gt;</span>

    <span class="cmt"># ë˜ëŠ” TCPë¡œ ì—°ê²°</span>
    <span class="cmt"># SetHandler "proxy:fcgi://127.0.0.1:9000"</span>

    <span class="cmt"># ë””ë ‰í† ë¦¬ ì„¤ì •</span>
    <span class="kw">&lt;Directory /var/www/html&gt;</span>
        <span class="fn">AllowOverride</span> All
        <span class="fn">Require</span> all granted
    <span class="kw">&lt;/Directory&gt;</span>

    <span class="cmt"># FastCGIExternalServer ì„¤ì • (mod_fcgid ì‚¬ìš©ì‹œ)</span>
    <span class="cmt"># FastCgiExternalServer /var/www/cgi-bin -socket /run/php/php-fpm.sock</span>
<span class="kw">&lt;/VirtualHost&gt;</span></code></pre>
  </div>

  <h3 id="apache-fcgid">mod_fcgid ì„¤ì •</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Apache mod_fcgid Config</span>
    </div>
    <pre><code><span class="cmt"># mod_fcgid ì„¤ì • (/etc/apache2/mods-available/fcgid.conf)</span>
<span class="fn">FcgidInitialEnv</span> PHPRC <span class="str">"/etc/php/8.1/fpm"</span>
<span class="fn">FcgidInitialEnv</span> PHP_FCGI_MAX_REQUESTS <span class="str">"5000"</span>
<span class="fn">FcgidIOTimeout</span> <span class="num">120</span>
<span class="fn">FcgidConnectTimeout</span> <span class="num">16</span>
<span class="fn">FcgidMaxRequestsPerProcess</span> <span class="num">500</span>
<span class="fn">FcgidMaxProcesses</span> <span class="num">150</span>
<span class="fn">FcgidMaxRequestLen</span> <span class="num">8131072</span>
<span class="fn">ProcessLifeTime</span> <span class="num">240</span>
<span class="fn">FcgidInitialEnv</span> PHP_VALUE <span class="str">"upload_max_filesize = 100M"</span>
<span class="fn">FcgidInitialEnv</span> PHP_VALUE <span class="str">"post_max_size = 100M"</span></code></pre>
  </div>

  <div class="info-box warning">
    <div class="info-box-title">âš ï¸ Apache vs Nginx ì„ íƒ</div>
    <ul>
      <li><strong>Apache ì„ íƒ</strong>: .htaccess, ëª¨ë“ˆ ì‹œìŠ¤í…œ, ê¸°ì¡´ í˜¸í™˜ì„±</li>
      <li><strong>Nginx ì„ íƒ</strong>: ë†’ì€ ë™ì‹œ ì ‘ì† ì²˜ë¦¬, ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©</li>
      <li><strong>ì„±ëŠ¥</strong>: ë™ì  ì½˜í…ì¸ ê°€ ë§ë‹¤ë©´ Nginxê°€ ì¼ë°˜ì ìœ¼ë¡œ ìš°ìˆ˜</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="php-fpm">PHP-FPM</h2>
  <p>PHP-FPM(FastCGI Process Manager)ì€ PHPì˜ FastCGI êµ¬í˜„ì²´ì…ë‹ˆë‹¤. ê³ ê¸‰ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>

  <h3 id="php-fpm-install">PHP-FPM ì„¤ì¹˜</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Ubuntu/Debian</span>
    </div>
    <pre><code><span class="cmt"># PHP 8.xì™€ FPM ì„¤ì¹˜</span>
<span class="fn">sudo apt install</span> php<span class="num">8.1</span>-fpm php<span class="num">8.1</span>-mysql php<span class="num">8.1</span>-curl php<span class="num">8.1</span>-gd php<span class="num">8.1</span>-mbstring

<span class="cmt"># PHP ë²„ì „ í™•ì¸</span>
php -v

<span class="cmt"># FPM ìƒíƒœ í™•ì¸</span>
<span class="fn">sudo systemctl status php</span><span class="num">8.1</span>-fpm</code></pre>
  </div>

  <h3 id="php-fpm-pools">Pool ì„¤ì •</h3>
  <p>PHP-FPMì€ ì—¬ëŸ¬ í’€(Pool)ì„ êµ¬ì„±í•˜ì—¬ ì„œë¡œ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì— ë‹¤ë¥¸ ì„¤ì •ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">PHP-FPM Pool (/etc/php/8.1/fpm/pool.d/www.conf)</span>
    </div>
    <pre><code><span class="cmt">; Pool ì´ë¦„</span>
[<span class="str">www</span>]

<span class="cmt">; Unixã‚½ã‚±ãƒƒãƒˆ ë˜ëŠ” TCP</span>
<span class="fn">listen</span> = /run/php/php-fpm.sock
<span class="cmt">; listen = 127.0.0.1:9000</span>

<span class="cmt">;ã‚½ì¼“ ê¶Œí•œ</span>
<span class="fn">listen.owner</span> = www-data
<span class="fn">listen.group</span> = www-data
<span class="fn">listen.mode</span> = <span class="num">0660</span>

<span class="cmt">; í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ì ì„¤ì •</span>
<span class="fn">pm</span> = dynamic
<span class="fn">pm.max_children</span> = <span class="num">50</span>
<span class="fn">pm.start_servers</span> = <span class="num">5</span>
<span class="fn">pm.min_spare_servers</span> = <span class="num">5</span>
<span class="fn">pm.max_spare_servers</span> = <span class="num">35</span>
<span class="fn">pm.max_requests</span> = <span class="num">500</span>

<span class="cmt">; íƒ€ì„ì•„ì›ƒ</span>
<span class="fn">request_terminate_timeout</span> = <span class="num">60s</span>

<span class="cmt">; í™˜ê²½ ë³€ìˆ˜</span>
<span class="fn">env</span>[<span class="str">'HOSTNAME'</span>] = $HOSTNAME
<span class="fn">env</span>[<span class="str">'PATH'</span>] = /usr/local/bin:/usr/bin:/bin
<span class="fn">env</span>[<span class="str">'TMP'</span>] = /tmp</code></pre>
  </div>

  <h3 id="php-fpm-modes">PM(Process Manager) ëª¨ë“œ</h3>
  <table>
    <thead>
      <tr>
        <th>ëª¨ë“œ</th>
        <th>ì„¤ëª…</th>
        <th>ì í•©í•œ ìƒí™©</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>static</td>
        <td>ê³ ì •æ•°é‡çš„ í”„ë¡œì„¸ìŠ¤ ìœ ì§€</td>
        <td>ë†’ì€ íŠ¸ë˜í”½, ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ ì‚¬ìš©</td>
      </tr>
      <tr>
        <td>dynamic</td>
        <td>ìš”ì²­ì— ë”°ë¼ í”„ë¡œì„¸ìŠ¤ ì¦ê°</td>
        <td>ì¤‘ê°„ íŠ¸ë˜í”½, ì œí•œëœ ë©”ëª¨ë¦¬</td>
      </tr>
      <tr>
        <td>ondemand</td>
        <td>ìš”ì²­ ì‹œì—ë§Œ í”„ë¡œì„¸ìŠ¤ ìƒì„±</td>
        <td>ë‚®ì€ íŠ¸ë˜í”½, ë©”ëª¨ë¦¬ ì ˆì•½</td>
      </tr>
    </tbody>
  </table>

  <h3 id="php-fpm-status">ìƒíƒœ í˜ì´ì§€</h3>
  <p>PHP-FPM ìƒíƒœ í˜ì´ì§€ë¥¼ í™œì„±í™”í•˜ì—¬ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Pool ì„¤ì •</span>
    </div>
    <pre><code>[<span class="str">www</span>]
<span class="fn">listen</span> = /run/php/php-fpm.sock

<span class="cmt">; ìƒíƒœ í˜ì´ì§€ í™œì„±í™”</span>
<span class="fn">pm.status_path</span> = /status
<span class="fn">ping.path</span> = /ping
<span class="fn">ping.response</span> = pong</code></pre>
  </div>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Nginx ì„¤ì •</span>
    </div>
    <pre><code><span class="fn">location</span> ~ ^/(status|ping)$ {
    <span class="fn">access_log</span> off;
    <span class="fn">allow</span> <span class="num">127.0.0.1</span>;
    <span class="fn">deny</span> all;
    <span class="fn">fastcgi_pass</span> unix:/run/php/php-fpm.sock;
    <span class="fn">include</span> fastcgi_params;
    <span class="fn">fastcgi_param</span> SCRIPT_FILENAME $document_root$fastcgi_script_name;
}</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="python-fastcgi">Python + FastCGI</h2>
  <p>Python ì• í”Œë¦¬ì¼€ì´ì…˜ì„ FastCGIë¡œ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.</p>

  <h3 id="flup-install">Flup ì„¤ì¹˜</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Python</span>
    </div>
    <pre><code><span class="cmt"># Flup ì„¤ì¹˜ (FastCGI ì„œë²„)</span>
<span class="fn">pip install flup</span>

<span class="cmt"># Django/Flaskì™€ í•¨ê»˜ ì‚¬ìš©</span>
<span class="fn">pip install django</span>
<span class="fn">pip install flask</span></code></pre>
  </div>

  <h3 id="django-fcgi">Django FastCGI</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Django + FastCGI</span>
    </div>
    <pre><code><span class="cmt"># Django í”„ë¡œì íŠ¸ ìƒì„±</span>
<span class="fn">django-admin startproject myproject</span>
<span class="fn">cd myproject</span>

<span class="cmt"># fcgi.py ìƒì„±</span>
<span class="fn">cat > fcgi.py << 'EOF</span>
<span class="kw">import</span> os
<span class="kw">from</span> django.core.management <span class="kw">import</span> execute_from_command_line

<span class="fn">os.environ.setdefault</span>(<span class="str">'DJANGO_SETTINGS_MODULE'</span>, <span class="str">'myproject.settings'</span>)

<span class="kw">if</span> __name__ == <span class="str">'__main__'</span>:
    <span class="fn">execute_from_command_line</span>()
<span class="num">EOF</span>

<span class="cmt"># FastCGI ì„œë²„ ì‹¤í–‰</span>
<span class="fn">python fcgi.py runfcgi</span> \
    <span class="fn">method</span>=threaded \
    <span class="fn">host</span>=<span class="num">127.0.0.1</span> \
    <span class="fn">port</span>=<span class="num">8000</span> \
    <span class="fn">daemonize</span>=true \
    <span class="fn">pidfile</span>=/var/run/fcgi.pid</code></pre>
  </div>

  <h3 id="flask-fcgi">Flask FastCGI</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Flask + FastCGI</span>
    </div>
    <pre><code><span class="cmt"># app.py</span>
<span class="kw">from</span> flask <span class="kw">import</span> Flask
<span class="kw">import</span> os

app = Flask(__name__)

<span class="fn">app.wsgi_app</span> = <span class="fn">app.wsgi_app</span>

<span class="kw">@app.route</span>(<span class="str">'/'</span>)
<span class="kw">def</span> <span class="fn">hello</span>():
    <span class="kw">return</span> <span class="str">"Hello, FastCGI!"</span>

<span class="kw">if</span> __name__ == <span class="str">'__main__'</span>:
    <span class="cmt"># Flask ë‚´ì¥ ì„œë²„ (ê°œë°œìš©)</span>
    <span class="fn">app.run</span>(host=<span class="str">'127.0.0.1'</span>, port=<span class="num">8000</span>)</code></pre>
  </div>

  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Flask.fcgi</span>
    </div>
    <pre><code><span class="cmt"># fcgi.py (í”„ë¡œë•ì…˜ìš©)</span>
<span class="kw">#!/usr/bin/env python</span>
<span class="kw">from</span> flup.server.fcgi <span class="kw">import</span> WSGIServer
<span class="kw">from</span> app <span class="kw">import</span> app

<span class="kw">if</span> __name__ == <span class="str">'__main__'</span>:
    <span class="fn">WSGIServer</span>(app, bindAddress=<span class="str">'/tmp/fcgi.sock'</span>).run()
    <span class="cmt"># ë˜ëŠ” TCP: WSGIServer(app, bindAddress=('127.0.0.1', 8000)).run()</span></code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="performance-tuning">ì„±ëŠ¥ ìµœì í™”</h2>
  <p>FastCGIì˜ ì„±ëŠ¥ì„ ìµœì í™”í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤.</p>

  <h3 id="buffer-tuning">ë²„í¼ ì„¤ì •</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Nginx ë²„í¼ ìµœì í™”</span>
    </div>
    <pre><code><span class="cmt"># fastcgi_buffer_size: í•œ ë²ˆì— ì½ëŠ” ë²„í¼ í¬ê¸°</span>
<span class="cmt"># fastcgi_buffers: ì „ì²´ ë²„í¼ ìˆ˜ì™€ í¬ê¸°</span>
<span class="cmt"># fastcgi_busy_buffers_size: ì‚¬ìš© ì¤‘ì¸ ë²„í¼ í¬ê¸°</span>

<span class="fn">fastcgi_buffer_size</span> <span class="num">256k</span>;
<span class="fn">fastcgi_buffers</span> <span class="num">8</span> <span class="num">256k</span>;
<span class="fn">fastcgi_busy_buffers_size</span> <span class="num">256k</span>;
<span class="fn">fastcgi_temp_file_write_size</span> <span class="num">256k</span>;</code></pre>
  </div>

  <h3 id="caching">ìºì‹± ì„¤ì •</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Nginx ìºì‹±</span>
    </div>
    <pre><code><span class="cmt"># FastCGI ìºì‹œ ì„¤ì •</span>
<span class="fn">fastcgi_cache_path</span> /var/cache/nginx/fcgi levels=<span class="num">1</span>:<span class="num">2</span> 
    <span class="fn">keys_zone</span>=fcgi_cache:<span class="num">10m</span> 
    <span class="fn">max_size</span>=<span class="num">1g</span> 
    <span class="fn">inactive</span>=<span class="num">60m</span> 
    <span class="fn">use_temp_path</span>=off;

<span class="fn">fastcgi_cache</span> fcgi_cache;
<span class="fn">fastcgi_cache_valid</span> <span class="num">200</span> <span class="num">60m</span>;
<span class="fn">fastcgi_cache_valid</span> <span class="num">404</span> <span class="num">1m</span>;
<span class="fn">fastcgi_cache_use_stale</span> error timeout updating http_500 http_502 http_503 http_504;
<span class="fn">fastcgi_cache_lock</span> on;
<span class="fn">add_header</span> X-Cache-Status $upstream_cache_status;</code></pre>
  </div>

  <h3 id="compression">ì••ì¶• ì„¤ì •</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Gzip ì••ì¶•</span>
    </div>
    <pre><code><span class="fn">gzip</span> on;
<span class="fn">gzip_vary</span> on;
<span class="fn">gzip_proxied</span> any;
<span class="fn">gzip_comp_level</span> <span class="num">6</span>;
<span class="fn">gzip_types</span> text/plain text/css text/xml 
    application/json application/javascript 
    application/xml+rss application/atom+xml 
    image/svg+xml;</code></pre>
  </div>

  <h3 id="connection-pooling">ì—°ê²° í’€ë§</h3>
  <div class="info-box tip">
    <div class="info-box-title">ğŸ’¡ ì—°ê²° í’€ë§ íŒ</div>
    <ul>
      <li><strong>Keep-Alive</strong>: TCP ì—°ê²° ì¬ì‚¬ìš©ìœ¼ë¡œ í•¸ë“œì…°ì´í‚¹ ë¹„ìš© ì ˆê°</li>
      <li><strong>Unixã‚½ã‚±ãƒƒãƒˆ</strong>: ë¡œì»¬ í†µì‹ ì—ì„œ TCPë³´ë‹¤ íš¨ìœ¨ì </li>
      <li><strong>í”„ë¦¬ë¡œë“œ</strong>: PHP ì½”ë“œ í”„ë¦¬ë¡œë”©ìœ¼ë¡œ ì´ˆê¸° ë¡œë”© ì‹œê°„ ë‹¨ì¶•</li>
      <li><strong>OPcache</strong>: PHP ë°”ì´íŠ¸ì½”ë“œ ìºì‹±</li>
    </ul>
  </div>

  <h3 id="php-opcache">PHP OPcache ì„¤ì •</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">PHP Config (php.ini)</span>
    </div>
    <pre><code><span class="cmt">; OPcache í™œì„±í™”</span>
<span class="fn">opcache.enable</span>=<span class="num">1</span>
<span class="fn">opcache.enable_cli</span>=<span class="num">0</span>

<span class="cmt">; ë©”ëª¨ë¦¬ ì„¤ì •</span>
<span class="fn">opcache.memory_consumption</span>=<span class="num">256</span>
<span class="fn">opcache.interned_strings_buffer</span>=<span class="num">16</span>
<span class="fn">opcache.max_accelerated_files</span>=<span class="num">10000</span>

<span class="cmt">; ì„±ëŠ¥ ì„¤ì •</span>
<span class="fn">opcache.revalidate_freq</span>=<span class="num">2</span>
<span class="fn">opcache.fast_shutdown</span>=<span class="num">1</span>
<span class="fn">opcache.enable_file_override</span>=<span class="num">1</span>

<span class="cmt">; í”„ë¦¬ë¡œë“œ (PHP 7.4+)</span>
<span class="fn">opcache.preload</span>=/var/www/html/preload.php</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="troubleshooting">íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2>
  <p>FastCGI ê´€ë ¨ ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œì™€ í•´ê²° ë°©ë²•ì…ë‹ˆë‹¤.</p>

  <h3 id="common-errors">å¸¸è§ ì˜¤ë¥˜</h3>
  <div class="info-box warning">
    <div class="info-box-title">âš ï¸ 502 Bad Gateway</div>
    <ul>
      <li><strong>ì›ì¸</strong>: Nginxê°€ FastCGI ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŒ</li>
      <li><strong>í•´ê²°</strong>: PHP-FPM ì‹¤í–‰ í™•ì¸,ã‚½ì¼“/í¬íŠ¸ ê²½ë¡œ í™•ì¸, ê¶Œí•œ í™•ì¸</li>
      <li><code>sudo systemctl status php-fpm</code>ë¡œ ìƒíƒœ í™•ì¸</li>
    </ul>
  </div>

  <div class="info-box warning">
    <div class="info-box-title">âš ï¸ 504 Gateway Timeout</div>
    <ul>
      <li><strong>ì›ì¸</strong>: FastCGI ì‘ë‹µ ì‹œê°„ ì´ˆê³¼</li>
      <li><strong>í•´ê²°</strong>: fastcgi_read_timeout ì¦ê°€,ï¼Œæ…¢ ì¿¼ë¦¬ ìµœì í™”</li>
      <li><code>fastcgi_read_timeout 300;</code>ìœ¼ë¡œ ì„¤ì •</li>
    </ul>
  </div>

  <div class="info-box warning">
    <div class="info-box-title">âš ï¸ 403 Forbidden</div>
    <ul>
      <li><strong>ì›ì¸</strong>: íŒŒì¼/ë””ë ‰í† ë¦¬ ì ‘ê·¼ ê¶Œí•œ ë¶€ì¡±</li>
      <li><strong>í•´ê²°</strong>: íŒŒì¼ ê¶Œí•œ í™•ì¸ (chmod 755), SELinux/AppArmor ì„¤ì • í™•ì¸</li>
    </ul>
  </div>

  <h3 id="debugging">ë””ë²„ê¹… ë°©ë²•</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">ë¡œê·¸ í™•ì¸</span>
    </div>
    <pre><code><span class="cmt"># Nginx ì—ëŸ¬ ë¡œê·¸</span>
<span class="fn">tail -f</span> /var/log/nginx/error.log

<span class="cmt"># PHP-FPM ë¡œê·¸</span>
<span class="fn">tail -f</span> /var/log/php<span class="num">8.1</span>-fpm.log

<span class="cmt"># PHPæ…¢ ì¿¼ë¦¬ ë¡œê·¸ (php.ini)</span>
<span class="fn">slowlog</span> = /var/log/php-fpm/slow.log
<span class="fn">request_slowlog_timeout</span> = <span class="num">5s</span></code></pre>
  </div>

  <h3 id="monitoring">ëª¨ë‹ˆí„°ë§</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">ëª¨ë‹ˆí„°ë§ ë„êµ¬</span>
    </div>
    <pre><code><span class="cmt"># PHP-FPM ìƒíƒœ í˜ì´ì§€ í™•ì¸</span>
<span class="fn">curl</span> http://localhost/status
<span class="cmt"># ë˜ëŠ”</span>
<span class="fn">curl</span> http://localhost/status?full

<span class="cmt"># í”„ë¡œì„¸ìŠ¤ í™•ì¸</span>
<span class="fn">ps aux</span> | grep php-fpm
<span class="fn">htop</span> ë˜ëŠ” <span class="fn">top</span>

<span class="cmt"># ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸</span>
<span class="fn">netstat -tlnp</span> | grep php</code></pre>
  </div>

  <div class="info-box info">
    <div class="info-box-title">ğŸ“‹ PHP-FPM Status ì¶œë ¥</div>
    <ul>
      <li><strong>pool</strong>: í’€ ì´ë¦„</li>
      <li><strong>process manager</strong>: pm ìœ í˜• (static/dynamic/ondemand)</li>
      <li><strong>idle</strong>: ìœ íœ´ í”„ë¡œì„¸ìŠ¤ ìˆ˜</li>
      <li><strong>active</strong>: í™œì„± ìš”ì²­ ìˆ˜</li>
      <li><strong>total</strong>: ì „ì²´ ìš”ì²­ ìˆ˜</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="security">ë³´ì•ˆ ì„¤ì •</h2>
  <p>FastCGI ë³´ì•ˆ ê°•í™” ë°©ë²•ì…ë‹ˆë‹¤.</p>

  <h3 id="sandbox">ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">PHP-FPM Pool ê²©ë¦¬</span>
    </div>
    <pre><code>[<span class="str">site1</span>]
<span class="fn">listen</span> = /var/run/php-site1.sock
<span class="fn">user</span> = site1_user
<span class="fn">group</span> = site1_group
<span class="fn">listen.owner</span> = nginx
<span class="fn">listen.group</span> = nginx
<span class="fn">php_admin_value</span>[open_basedir] = /var/www/site1:/tmp
<span class="fn">php_admin_value</span>[disable_functions] = exec,passthru,shell_exec,system</code></pre>
  </div>

  <h3 id="rate-limiting">ë ˆì´íŠ¸ ë¦¬ë°‹</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Nginx rate limiting</span>
    </div>
    <pre><code><span class="cmt"># ìš”ì²­ ì†ë„ ì œí•œ</span>
<span class="fn">limit_req_zone</span> $binary_remote_addr zone=api_limit:10m rate=<span class="num">10r/s</span>;

<span class="fn">location</span> /api/ {
    <span class="fn">limit_req</span> zone=api_limit burst=<span class="num">20</span> nodelay;
    <span class="fn">fastcgi_pass</span> unix:/run/php/php-fpm.sock;
}</code></pre>
  </div>

  <h3 id="ssl-tls">SSL/TLS ì„¤ì •</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">HTTPS ì„¤ì •</span>
    </div>
    <pre><code><span class="fn">server</span> {
    <span class="fn">listen</span> <span class="num">443</span> ssl http2;
    <span class="fn">server_name</span> example.com;

    <span class="fn">ssl_certificate</span> /etc/ssl/certs/example.crt;
    <span class="fn">ssl_certificate_key</span> /etc/ssl/private/example.key;

    <span class="cmt"># TLS ë²„ì „</span>
    <span class="fn">ssl_protocols</span> TLSv1.2 TLSv1.3;
    <span class="fn">ssl_ciphers</span> HIGH:!aNULL:!MD5;
    <span class="fn">ssl_prefer_server_ciphers</span> on;

    <span class="fn">location</span> ~ \.php$ {
        <span class="fn">fastcgi_pass</span> unix:/run/php/php-fpm.sock;
    }
}</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="docker">Dockerì™€ FastCGI</h2>
  <p>Docker í™˜ê²½ì—ì„œ FastCGIë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.</p>

  <h3 id="dockerfile">Dockerfile ì˜ˆì‹œ</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">Dockerfile</span>
    </div>
    <pre><code><span class="cmt"># PHP-FPM Docker ì´ë¯¸ì§€</span>
<span class="kw">FROM</span> php:<span class="num">8.1</span>-fpm

<span class="cmt"># í•„ìˆ˜ í™•ì¥ ì„¤ì¹˜</span>
<span class="fn">RUN</span> docker-php-ext-install pdo pdo_mysql

<span class="cmt"># Nginx ì„¤ì¹˜</span>
<span class="fn">RUN</span> apt-get update && apt-get install -y \
    nginx \
    && rm -rf /var/lib/apt/lists/*

<span class="cmt"># ì„¤ì • ë³µì‚¬</span>
<span class="fn">COPY</span> nginx.conf /etc/nginx/nginx.conf
<span class="fn">COPY</span> php.ini /usr/local/etc/php/conf.d/

<span class="cmt"># ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬</span>
<span class="fn">COPY</span> --chown=www-data:www-data . /var/www/html

<span class="cmt"># í¬íŠ¸ ë…¸ì¶œ</span>
<span class="kw">EXPOSE</span> <span class="num">80</span>

<span class="cmt"># Nginx + PHP-FPM ì‹¤í–‰</span>
<span class="fn">CMD</span> service php<span class="num">8.1</span>-fpm start && nginx -g <span class="str">'daemon off;'</span></code></pre>
  </div>

  <h3 id="docker-compose">Docker Compose</h3>
  <div class="code-block">
    <div class="code-header">
      <span class="code-lang">docker-compose.yml</span>
    </div>
    <pre><code><span class="kw">version</span>: <span class="str">'3.8'</span>

<span class="kw">services</span>:
  <span class="fn">web</span>:
    <span class="fn">image</span>: nginx:alpine
    <span class="fn">ports</span>:
      - <span class="str">"80:80"</span>
    <span class="fn">volumes</span>:
      - ./html:/var/www/html
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    <span class="fn">depends_on</span>:
      - php

  <span class="fn">php</span>:
    <span class="fn">build</span>: .
    <span class="fn">volumes</span>:
      - ./html:/var/www/html
    <span class="fn">environment</span>:
      - PHP_MEMORY_LIMIT=256M

  <span class="fn">db</span>:
    <span class="fn">image</span>: mysql:8.0
    <span class="fn">environment</span>:
      - MYSQL_ROOT_PASSWORD=secret
      - MYSQL_DATABASE=app</code></pre>
  </div>
</section>

<section class="content-section">
  <h2 id="alternatives">ëŒ€ì•ˆ ê¸°ìˆ </h2>
  <p>FastCGI ì™¸ì˜ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ ê¸°ìˆ ì…ë‹ˆë‹¤.</p>

  <h3 id="compared-technologies">ê¸°ìˆ  ë¹„êµ</h3>
  <table>
    <thead>
      <tr>
        <th>ê¸°ìˆ </th>
        <th>ì¥ì </th>
        <th>ë‹¨ì </th>
        <th>ì í•©í•œ ìƒí™©</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>FastCGI</td>
        <td>ë†’ì€ ì„±ëŠ¥, í”„ë¡œì„¸ìŠ¤ ì¬ì‚¬ìš©</td>
        <td>ì„¤ì • ë³µì¡</td>
        <td>í”„ë¡œë•ì…˜ PHP</td>
      </tr>
      <tr>
        <td>PSGI/Plack</td>
        <td>Perl í†µí•©, ìœ ì—°ì„±</td>
        <td>Perl í•„ìš”</td>
        <td>Perl ì• í”Œë¦¬ì¼€ì´ì…˜</td>
      </tr>
      <tr>
        <td>uWSGI</td>
        <td>ë‹¤ì–‘í•œ ì–¸ì–´ ì§€ì›</td>
        <td>ë³µì¡í•œ ì„¤ì •</td>
        <td>Python/WSGI</td>
      </tr>
      <tr>
        <td>gunicorn</td>
        <td>ë‹¨ìˆœ, Python ê¸°ë³¸</td>
        <td>Pythonë§Œ</td>
        <td>Python Flask/Django</td>
      </tr>
      <tr>
        <td>Unicorn</td>
        <td>ë†’ì€ ì„±ëŠ¥, Ruby ê¸°ë³¸</td>
        <td>Rubyë§Œ</td>
        <td>Ruby on Rails</td>
      </tr>
    </tbody>
  </table>

  <h3 id="when-to-use">ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©í• ê¹Œ?</h3>
  <div class="info-box tip">
    <div class="info-box-title">ğŸ’¡ ì„ íƒ ê°€ì´ë“œ</div>
    <ul>
      <li><strong>PHP</strong>: PHP-FPM (FastCGI) - ê°€ì¥ ì¼ë°˜ì ì¸ ì„ íƒ</li>
      <li><strong>Python</strong>: uWSGI ë˜ëŠ” gunicorn</li>
      <li><strong>Ruby</strong>: Unicorn ë˜ëŠ” Puma</li>
      <li><strong>Perl</strong>: PSGI/Plack</li>
      <li><strong>Node.js</strong>: ë‚´ì¥ í´ëŸ¬ìŠ¤í„° ëª¨ë“œ (FastCGI ë¶ˆí•„ìš”)</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="summary">í•µì‹¬ ì •ë¦¬</h2>
  <ul>
    <li><strong>FastCGI</strong>: CGIì˜ ì„±ëŠ¥ ë¬¸ì œë¥¼ í•´ê²°í•œ í”„ë¡œí† ì½œ</li>
    <li><strong>Nginx ì—°ë™</strong>: fastcgi_passë¡œ PHP-FPM ì—°ê²°</li>
    <li><strong>Apache ì—°ë™</strong>: mod_proxy_fcgi ë˜ëŠ” mod_fcgid ì‚¬ìš©</li>
    <li><strong>PHP-FPM</strong>: ê³ ê¸‰ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬, ë‹¤ì¤‘ í’€ ì§€ì›</li>
    <li><strong>ì„±ëŠ¥ ìµœì í™”</strong>: ë²„í¼, ìºì‹±, ì••ì¶•, ì—°ê²° í’€ë§</li>
    <li><strong>ë³´ì•ˆ</strong>: ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬, SSL/TLS, ë ˆì´íŠ¸ ë¦¬ë°‹</li>
    <li><strong>ëª¨ë‹ˆí„°ë§</strong>: ìƒíƒœ í˜ì´ì§€, ë¡œê·¸ ë¶„ì„</li>
  </ul>

  <div class="info-box info">
    <div class="info-box-title">ğŸ“‹ FastCGI ì²´í¬ë¦¬ìŠ¤íŠ¸</div>
    <ul>
      <li>â˜‘ï¸ ì›¹ ì„œë²„(FastCGI í´ë¼ì´ì–¸íŠ¸) ì„¤ì¹˜ ë° ì„¤ì •</li>
      <li>â˜‘ï¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„(FastCGI ì„œë²„) ì„¤ì¹˜</li>
      <li>â˜‘ï¸ ì†Œì¼“/TCP ì—°ê²° í™•ì¸</li>
      <li>â˜‘ï¸ ë²„í¼ ë° íƒ€ì„ì•„ì›ƒ ìµœì í™”</li>
      <li>â˜‘ï¸ ìºì‹± ë° ì••ì¶• ì„¤ì •</li>
      <li>â˜‘ï¸ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ êµ¬ì„±</li>
      <li>â˜‘ï¸ ë³´ì•ˆ ì„¤ì • (ê¶Œí•œ, SSL)</li>
    </ul>
  </div>
</section>

<section class="content-section">
  <h2 id="references">ì°¸ê³ ìë£Œ</h2>
  <ul>
    <li><a href="https://www.fastcgi.com/" target="_blank" rel="noopener">FastCGI ê³µì‹ ë¬¸ì„œ</a></li>
    <li><a href="https://nginx.org/en/docs/http/ngx_http_fastcgi_module.html" target="_blank" rel="noopener">Nginx FastCGI Module</a></li>
    <li><a href="https://www.php.net/manual/en/install.fpm.php" target="_blank" rel="noopener">PHP-FPM Manual</a></li>
    <li><a href="https://httpd.apache.org/docs/2.4/mod/mod_fcgid.html" target="_blank" rel="noopener">Apache mod_fcgid</a></li>
  </ul>

  <div class="card-grid">
    <div class="doc-card">
      <h3>Nginx</h3>
      <p>ì›¹ ì„œë²„ ì„¤ì • ê°€ì´ë“œ</p>
      <a href="docker-llm.html" class="card-link">Docker + LLM â†’</a>
    </div>

    <div class="doc-card">
      <h3>CI/CD</h3>
      <p>ì§€ì†ì  í†µí•© ê°€ì´ë“œ</p>
      <a href="project-ci-cd.html" class="card-link">CI/CD êµ¬ì¶• â†’</a>
    </div>

    <div class="doc-card">
      <h3>REST API</h3>
      <p>API ì„¤ê³„ ê°€ì´ë“œ</p>
      <a href="api-design.html" class="card-link">API ë””ìì¸ â†’</a>
    </div>
  </div>
</section>

<!-- Page Navigation (ì´ì „/ë‹¤ìŒ) -->
<nav class="page-nav"></nav>

</main>

<!-- ===== TOC Sidebar ===== -->
<aside class="inline-toc">
  <div class="toc-title">ëª©ì°¨</div>
  <div class="toc-nav"></div>
</aside>

<!-- ===== Footer ===== -->
<footer class="site-footer">
</footer>

</div>

<script src="../js/main.js"></script>
</body>
</html>
