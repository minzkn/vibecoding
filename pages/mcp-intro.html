<!DOCTYPE html>
<html lang="ko" data-theme="dark-kernel">
<head>
<script>(function(){var m=document.cookie.match(/claude_theme=([^;]+)/);if(m)document.documentElement.setAttribute('data-theme',m[1]);})();</script>
<meta charset="UTF-8">
<meta property="og:type" content="article">
<meta property="og:site_name" content="AI Vibe Coding 가이드 /with MINZKN">
<meta property="og:title" content="MCP 개념">
<meta property="og:description" content="MCP 개념: Model Context Protocol(MCP)은 AI 어시스턴트가 외부 데이터 소스 및 도구와 통신할 수 있도록 하는 개방형 프로토콜입니다. MCP를 통해 Claude와 같은 LLM은 파일 시스템, 데이터베이스, API 등 다양한 컨텍스트 소스에 표준화된 방식으로...">
<meta property="og:url" content="https://minzkn.com/claude/pages/mcp-intro.html">
<meta property="og:image" content="https://minzkn.com/claude/images/og-image.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MCP 개념 - AI Vibe Coding 가이드 /with MINZKN</title>
<link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
<meta name="description" content="MCP 개념: Model Context Protocol(MCP)은 AI 어시스턴트가 외부 데이터 소스 및 도구와 통신할 수 있도록 하는 개방형 프로토콜입니다. MCP를 통해 Claude와 같은 LLM은 파일 시스템, 데이터베이스, API 등 다양한 컨텍스트 소스에 표준화된 방식으로...">
<meta name="keywords" content="Claude, AI, LLM, MCP 개념, MCP란 무엇인가?, MCP 아키텍처, MCP vs 기존 방식, 프로토콜 개요">
<meta name="author" content="MINZKN">

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/joungkyun/font-d2coding/d2coding.css">
<link rel="stylesheet" href="../css/themes.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
<div class="page-wrapper">
<header class="site-header"></header>
<nav class="side-nav" aria-label="사이트 내비게이션"></nav>
<main class="main-content">
<nav class="breadcrumb"></nav>

<h1 id="top">MCP 개념</h1>
<p class="lead">Model Context Protocol(MCP)은 AI 어시스턴트가 외부 데이터 소스 및 도구와 통신할 수 있도록 하는 개방형 프로토콜입니다. MCP를 통해 Claude와 같은 LLM은 파일 시스템, 데이터베이스, API 등 다양한 컨텍스트 소스에 표준화된 방식으로 접근할 수 있습니다.</p>

<div class="info-box warning">
  <strong>업데이트 안내:</strong> 모델/요금/버전/정책 등 시점에 민감한 정보는 변동될 수 있습니다.
  최신 내용은 공식 문서를 확인하세요.
</div>

<div class="info-box tip">
<strong>빠른 시작</strong>
<ul>
<li>MCP는 Anthropic이 개발한 오픈 프로토콜</li>
<li>JSON-RPC 2.0 기반의 클라이언트-서버 아키텍처</li>
<li>stdio, HTTP SSE 등 다양한 전송 계층 지원</li>
<li>Tools, Resources, Prompts 세 가지 핵심 개념</li>
</ul>
</div>

<section class="content-section">
<h2 id="what-is-mcp">MCP란 무엇인가?</h2>

<h3 id="definition">정의</h3>
<p>Model Context Protocol(MCP)은 AI 모델이 외부 데이터 소스 및 도구와 상호작용할 수 있도록 설계된 개방형 표준 프로토콜입니다. 2024년 Anthropic이 공개한 MCP는 AI 어시스턴트의 컨텍스트 제공 방식을 표준화하여, 다양한 데이터 소스를 통합하고 확장 가능한 생태계를 구축하는 것을 목표로 합니다.</p>

<div class="code-block">
<div class="code-header">
<span class="language">개념</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code>┌─────────────────────────────────────────────────────────┐
│  MCP의 핵심 가치                                          │
├─────────────────────────────────────────────────────────┤
│  1. 표준화: 모든 데이터 소스에 일관된 인터페이스 제공      │
│  2. 확장성: 새로운 도구와 리소스를 쉽게 추가              │
│  3. 재사용성: 한 번 작성한 서버를 여러 클라이언트에서 사용 │
│  4. 분리: 데이터 제공자와 AI 모델의 독립적 개발           │
└─────────────────────────────────────────────────────────┘
</code></pre>
</div>

<h3 id="motivation">개발 배경</h3>
<p>전통적으로 AI 어시스턴트는 다음과 같은 문제에 직면했습니다:</p>

<ul>
<li><strong>컨텍스트 제한:</strong> 모델의 지식 컷오프 이후 정보나 실시간 데이터에 접근 불가</li>
<li><strong>통합 복잡도:</strong> 각 데이터 소스마다 커스텀 통합 코드 필요</li>
<li><strong>유지보수 부담:</strong> API 변경 시 모든 통합 코드 수정 필요</li>
<li><strong>재사용 불가:</strong> 한 어시스턴트용 통합을 다른 어시스턴트에서 재사용 어려움</li>
</ul>

<p>MCP는 이러한 문제를 해결하기 위해 설계되었습니다.</p>

<div class="info-box note">
<strong>기존 방식 vs MCP</strong>
<table>
<thead>
<tr>
<th>측면</th>
<th>기존 방식</th>
<th>MCP</th>
</tr>
</thead>
<tbody>
<tr>
<td>통합 방식</td>
<td>각 데이터 소스마다 커스텀 코드</td>
<td>표준 프로토콜</td>
</tr>
<tr>
<td>재사용성</td>
<td>낮음</td>
<td>높음</td>
</tr>
<tr>
<td>유지보수</td>
<td>복잡</td>
<td>단순</td>
</tr>
<tr>
<td>확장성</td>
<td>제한적</td>
<td>우수</td>
</tr>
</tbody>
</table>
</div>

<h3 id="use-cases">주요 사용 사례</h3>

<div class="code-block">
<div class="code-header">
<span class="language">예제</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="cmt">// 1. 파일 시스템 접근</span>
<span class="str">"프로젝트 src/ 디렉토리의 모든 TypeScript 파일을 분석해줘"</span>
→ MCP 파일시스템 서버가 파일 목록과 내용 제공

<span class="cmt">// 2. 데이터베이스 쿼리</span>
<span class="str">"지난 30일간 매출 상위 10개 제품을 보여줘"</span>
→ MCP PostgreSQL 서버가 데이터베이스 쿼리 실행

<span class="cmt">// 3. API 통합</span>
<span class="str">"GitHub에서 open 상태인 이슈 중 'bug' 레이블이 있는 것들을 찾아줘"</span>
→ MCP GitHub 서버가 GitHub API 호출

<span class="cmt">// 4. 도구 실행</span>
<span class="str">"이 Python 코드를 실행하고 결과를 보여줘"</span>
→ MCP 실행 환경 서버가 코드 실행
</code></pre>
</div>
</section>

<section class="content-section">
<h2 id="architecture">MCP 아키텍처</h2>

<h3 id="overview">전체 구조</h3>

<svg viewBox="0 0 800 600" style="max-width: 100%; height: auto; background: var(--code-bg); border-radius: 8px; padding: 20px;">
  <!-- AI Client -->
  <rect x="50" y="50" width="200" height="120" fill="var(--primary-color)" opacity="0.2" stroke="var(--primary-color)" stroke-width="2" rx="8"/>
  <text x="150" y="85" text-anchor="middle" fill="var(--text-color)" font-size="16" font-weight="bold">AI 클라이언트</text>
  <text x="150" y="110" text-anchor="middle" fill="var(--text-color)" font-size="12">Claude Desktop</text>
  <text x="150" y="130" text-anchor="middle" fill="var(--text-color)" font-size="12">Claude CLI</text>
  <text x="150" y="150" text-anchor="middle" fill="var(--text-color)" font-size="12">Custom Client</text>

  <!-- MCP Protocol -->
  <rect x="300" y="50" width="200" height="120" fill="var(--accent-color)" opacity="0.2" stroke="var(--accent-color)" stroke-width="2" rx="8"/>
  <text x="400" y="85" text-anchor="middle" fill="var(--text-color)" font-size="16" font-weight="bold">MCP 프로토콜</text>
  <text x="400" y="110" text-anchor="middle" fill="var(--text-color)" font-size="12">JSON-RPC 2.0</text>
  <text x="400" y="130" text-anchor="middle" fill="var(--text-color)" font-size="12">Transport Layer</text>
  <text x="400" y="150" text-anchor="middle" fill="var(--text-color)" font-size="12">(stdio / HTTP SSE)</text>

  <!-- MCP Servers -->
  <rect x="550" y="50" width="200" height="120" fill="var(--success-color)" opacity="0.2" stroke="var(--success-color)" stroke-width="2" rx="8"/>
  <text x="650" y="85" text-anchor="middle" fill="var(--text-color)" font-size="16" font-weight="bold">MCP 서버</text>
  <text x="650" y="110" text-anchor="middle" fill="var(--text-color)" font-size="12">Filesystem</text>
  <text x="650" y="130" text-anchor="middle" fill="var(--text-color)" font-size="12">Database</text>
  <text x="650" y="150" text-anchor="middle" fill="var(--text-color)" font-size="12">API Integrations</text>

  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="var(--text-color)" />
    </marker>
  </defs>

  <line x1="250" y1="110" x2="300" y2="110" stroke="var(--text-color)" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="110" x2="550" y2="110" stroke="var(--text-color)" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Data Sources -->
  <text x="400" y="220" text-anchor="middle" fill="var(--text-color)" font-size="14" font-weight="bold">데이터 소스</text>

  <rect x="80" y="250" width="120" height="80" fill="var(--info-color)" opacity="0.2" stroke="var(--info-color)" stroke-width="2" rx="8"/>
  <text x="140" y="275" text-anchor="middle" fill="var(--text-color)" font-size="12" font-weight="bold">파일 시스템</text>
  <text x="140" y="295" text-anchor="middle" fill="var(--text-color)" font-size="10">로컬 파일</text>
  <text x="140" y="310" text-anchor="middle" fill="var(--text-color)" font-size="10">디렉토리</text>

  <rect x="240" y="250" width="120" height="80" fill="var(--info-color)" opacity="0.2" stroke="var(--info-color)" stroke-width="2" rx="8"/>
  <text x="300" y="275" text-anchor="middle" fill="var(--text-color)" font-size="12" font-weight="bold">데이터베이스</text>
  <text x="300" y="295" text-anchor="middle" fill="var(--text-color)" font-size="10">PostgreSQL</text>
  <text x="300" y="310" text-anchor="middle" fill="var(--text-color)" font-size="10">SQLite</text>

  <rect x="400" y="250" width="120" height="80" fill="var(--info-color)" opacity="0.2" stroke="var(--info-color)" stroke-width="2" rx="8"/>
  <text x="460" y="275" text-anchor="middle" fill="var(--text-color)" font-size="12" font-weight="bold">웹 API</text>
  <text x="460" y="295" text-anchor="middle" fill="var(--text-color)" font-size="10">GitHub</text>
  <text x="460" y="310" text-anchor="middle" fill="var(--text-color)" font-size="10">Slack</text>

  <rect x="560" y="250" width="120" height="80" fill="var(--info-color)" opacity="0.2" stroke="var(--info-color)" stroke-width="2" rx="8"/>
  <text x="620" y="275" text-anchor="middle" fill="var(--text-color)" font-size="12" font-weight="bold">기타</text>
  <text x="620" y="295" text-anchor="middle" fill="var(--text-color)" font-size="10">검색 엔진</text>
  <text x="620" y="310" text-anchor="middle" fill="var(--text-color)" font-size="10">실행 환경</text>

  <!-- Arrows from servers to data sources -->
  <line x1="650" y1="170" x2="140" y2="250" stroke="var(--text-color)" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="650" y1="170" x2="300" y2="250" stroke="var(--text-color)" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="650" y1="170" x2="460" y2="250" stroke="var(--text-color)" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="650" y1="170" x2="620" y2="250" stroke="var(--text-color)" stroke-width="1" stroke-dasharray="5,5"/>

  <!-- Message flow -->
  <text x="400" y="380" text-anchor="middle" fill="var(--text-color)" font-size="14" font-weight="bold">메시지 흐름</text>

  <rect x="100" y="400" width="600" height="150" fill="none" stroke="var(--border-color)" stroke-width="1" rx="8"/>

  <text x="120" y="425" fill="var(--text-color)" font-size="11">1. 클라이언트: "list tools" 요청</text>
  <text x="120" y="445" fill="var(--text-color)" font-size="11">2. 서버: 사용 가능한 도구 목록 응답</text>
  <text x="120" y="465" fill="var(--text-color)" font-size="11">3. 클라이언트: "call tool" 요청 (매개변수 포함)</text>
  <text x="120" y="485" fill="var(--text-color)" font-size="11">4. 서버: 도구 실행 및 결과 반환</text>
  <text x="120" y="505" fill="var(--text-color)" font-size="11">5. 클라이언트: 결과를 AI 모델에 전달</text>
  <text x="120" y="525" fill="var(--text-color)" font-size="11">6. AI: 결과를 기반으로 응답 생성</text>
</svg>

<h3 id="components">핵심 컴포넌트</h3>

<h4>1. MCP 클라이언트</h4>
<p>AI 어시스턴트 애플리케이션이 MCP 서버와 통신하기 위해 구현하는 컴포넌트입니다.</p>

<div class="code-block">
<div class="code-header">
<span class="language">TypeScript</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="kw">import</span> { Client } <span class="kw">from</span> <span class="str">"@modelcontextprotocol/sdk/client/index.js"</span>;
<span class="kw">import</span> { StdioClientTransport } <span class="kw">from</span> <span class="str">"@modelcontextprotocol/sdk/client/stdio.js"</span>;

<span class="cmt">// 클라이언트 생성</span>
<span class="kw">const</span> client = <span class="kw">new</span> <span class="fn">Client</span>({
  name: <span class="str">"my-ai-client"</span>,
  version: <span class="str">"1.0.0"</span>
}, {
  capabilities: {
    tools: {}
  }
});

<span class="cmt">// 서버에 연결 (stdio 전송)</span>
<span class="kw">const</span> transport = <span class="kw">new</span> <span class="fn">StdioClientTransport</span>({
  command: <span class="str">"python"</span>,
  args: [<span class="str">"server.py"</span>]
});

<span class="kw">await</span> client.<span class="fn">connect</span>(transport);

<span class="cmt">// 사용 가능한 도구 목록 조회</span>
<span class="kw">const</span> tools = <span class="kw">await</span> client.<span class="fn">listTools</span>();
console.<span class="fn">log</span>(tools);
</code></pre>
</div>

<h4>2. MCP 서버</h4>
<p>실제 데이터 소스나 도구에 접근하여 AI 클라이언트에게 기능을 제공하는 서비스입니다.</p>

<div class="code-block">
<div class="code-header">
<span class="language">Python</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="kw">from</span> mcp.server <span class="kw">import</span> Server
<span class="kw">from</span> mcp.server.stdio <span class="kw">import</span> stdio_server

<span class="cmt"># 서버 생성</span>
server = Server(<span class="str">"my-mcp-server"</span>)

<span class="cmt"># 도구 등록</span>
<span class="pp">@server.tool()</span>
<span class="kw">async</span> <span class="kw">def</span> <span class="fn">read_file</span>(path: <span class="type">str</span>) -> <span class="type">str</span>:
    <span class="str">"""파일 내용을 읽습니다."""</span>
    <span class="kw">with</span> <span class="fn">open</span>(path, <span class="str">'r'</span>) <span class="kw">as</span> f:
        <span class="kw">return</span> f.read()

<span class="cmt"># 서버 실행</span>
<span class="kw">async</span> <span class="kw">def</span> <span class="fn">main</span>():
    <span class="kw">async</span> <span class="kw">with</span> stdio_server() <span class="kw">as</span> streams:
        <span class="kw">await</span> server.run(
            streams[<span class="num">0</span>],
            streams[<span class="num">1</span>],
            server.create_initialization_options()
        )
</code></pre>
</div>

<h4>3. 전송 계층 (Transport Layer)</h4>
<p>클라이언트와 서버 간 메시지 전송을 담당합니다.</p>

<table>
<thead>
<tr>
<th>전송 방식</th>
<th>특징</th>
<th>사용 사례</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>stdio</strong></td>
<td>표준 입출력 사용, 프로세스 간 통신</td>
<td>로컬 서버, CLI 도구</td>
</tr>
<tr>
<td><strong>HTTP SSE</strong></td>
<td>Server-Sent Events, 단방향 스트리밍</td>
<td>원격 서버, 웹 애플리케이션</td>
</tr>
<tr>
<td><strong>WebSocket</strong> (계획 중)</td>
<td>양방향 실시간 통신</td>
<td>대화형 애플리케이션</td>
</tr>
</tbody>
</table>

<h3 id="protocol-layers">프로토콜 계층</h3>

<svg viewBox="0 0 600 400" style="max-width: 100%; height: auto; background: var(--code-bg); border-radius: 8px; padding: 20px;">
  <!-- Layer 1: Application -->
  <rect x="100" y="50" width="400" height="60" fill="var(--primary-color)" opacity="0.3" stroke="var(--primary-color)" stroke-width="2" rx="4"/>
  <text x="300" y="75" text-anchor="middle" fill="var(--text-color)" font-size="14" font-weight="bold">애플리케이션 계층</text>
  <text x="300" y="95" text-anchor="middle" fill="var(--text-color)" font-size="11">Tools, Resources, Prompts</text>

  <!-- Layer 2: Protocol -->
  <rect x="100" y="130" width="400" height="60" fill="var(--accent-color)" opacity="0.3" stroke="var(--accent-color)" stroke-width="2" rx="4"/>
  <text x="300" y="155" text-anchor="middle" fill="var(--text-color)" font-size="14" font-weight="bold">프로토콜 계층</text>
  <text x="300" y="175" text-anchor="middle" fill="var(--text-color)" font-size="11">JSON-RPC 2.0 메시지</text>

  <!-- Layer 3: Transport -->
  <rect x="100" y="210" width="400" height="60" fill="var(--success-color)" opacity="0.3" stroke="var(--success-color)" stroke-width="2" rx="4"/>
  <text x="300" y="235" text-anchor="middle" fill="var(--text-color)" font-size="14" font-weight="bold">전송 계층</text>
  <text x="300" y="255" text-anchor="middle" fill="var(--text-color)" font-size="11">stdio / HTTP SSE / WebSocket</text>

  <!-- Layer 4: Network -->
  <rect x="100" y="290" width="400" height="60" fill="var(--info-color)" opacity="0.3" stroke="var(--info-color)" stroke-width="2" rx="4"/>
  <text x="300" y="315" text-anchor="middle" fill="var(--text-color)" font-size="14" font-weight="bold">네트워크 계층</text>
  <text x="300" y="335" text-anchor="middle" fill="var(--text-color)" font-size="11">TCP/IP, Local IPC</text>

  <!-- Arrows -->
  <defs>
    <marker id="arrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="var(--text-color)" />
    </marker>
  </defs>

  <line x1="300" y1="110" x2="300" y2="130" stroke="var(--text-color)" stroke-width="1.5" marker-end="url(#arrow2)"/>
  <line x1="300" y1="190" x2="300" y2="210" stroke="var(--text-color)" stroke-width="1.5" marker-end="url(#arrow2)"/>
  <line x1="300" y1="270" x2="300" y2="290" stroke="var(--text-color)" stroke-width="1.5" marker-end="url(#arrow2)"/>
</svg>
</section>

<section class="content-section">
<h2 id="mcp-vs-alternatives">MCP vs 기존 방식</h2>

<h3 id="function-calling">Function Calling과의 비교</h3>

<table>
<thead>
<tr>
<th>측면</th>
<th>Function Calling</th>
<th>MCP</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>정의 위치</strong></td>
<td>API 요청 시 함수 정의 전달</td>
<td>서버에서 도구 정의 관리</td>
</tr>
<tr>
<td><strong>실행 주체</strong></td>
<td>클라이언트 애플리케이션</td>
<td>MCP 서버</td>
</tr>
<tr>
<td><strong>재사용성</strong></td>
<td>낮음 (매번 정의 필요)</td>
<td>높음 (서버 재사용)</td>
</tr>
<tr>
<td><strong>상태 관리</strong></td>
<td>클라이언트</td>
<td>서버 (가능)</td>
</tr>
<tr>
<td><strong>복잡도</strong></td>
<td>간단한 도구에 적합</td>
<td>복잡한 통합에 적합</td>
</tr>
</tbody>
</table>

<div class="code-block">
<div class="code-header">
<span class="language">비교 예제</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="cmt">// Function Calling 방식</span>
<span class="kw">const</span> response = <span class="kw">await</span> anthropic.messages.<span class="fn">create</span>({
  model: <span class="str">"claude-4-5"</span>,
  messages: [{ role: <span class="str">"user"</span>, content: <span class="str">"파일 읽어줘"</span> }],
  tools: [{
    name: <span class="str">"read_file"</span>,
    description: <span class="str">"파일을 읽습니다"</span>,
    input_schema: {
      type: <span class="str">"object"</span>,
      properties: {
        path: { type: <span class="str">"string"</span> }
      }
    }
  }]
});

<span class="cmt">// 도구 실행은 클라이언트가 직접 처리</span>
<span class="kw">if</span> (response.stop_reason === <span class="str">"tool_use"</span>) {
  <span class="kw">const</span> result = <span class="kw">await</span> <span class="fn">readFile</span>(toolUse.input.path);
  <span class="cmt">// 결과를 다시 Claude에게 전달...</span>
}

<span class="cmt">// ─────────────────────────────────────</span>

<span class="cmt">// MCP 방식</span>
<span class="kw">const</span> client = <span class="kw">new</span> <span class="fn">MCPClient</span>();
<span class="kw">await</span> client.<span class="fn">connect</span>(fileSystemServer);

<span class="cmt">// 도구 목록은 서버에서 자동 제공</span>
<span class="kw">const</span> tools = <span class="kw">await</span> client.<span class="fn">listTools</span>();

<span class="cmt">// 도구 실행도 서버가 처리</span>
<span class="kw">const</span> result = <span class="kw">await</span> client.<span class="fn">callTool</span>(<span class="str">"read_file"</span>, {
  path: <span class="str">"/path/to/file"</span>
});
</code></pre>
</div>

<h3 id="tool-use">Tool Use와의 관계</h3>

<p>MCP는 Tool Use를 <strong>보완하고 확장</strong>하는 프로토콜입니다:</p>

<ul>
<li><strong>Tool Use:</strong> AI 모델이 도구를 호출하도록 요청하는 기능 (모델 레벨)</li>
<li><strong>MCP:</strong> 도구를 정의하고 실행하는 표준 프로토콜 (인프라 레벨)</li>
</ul>

<div class="info-box note">
<strong>통합 예제</strong>
<p>Claude의 Tool Use 기능과 MCP를 함께 사용하면:</p>
<ol>
<li>MCP 서버가 사용 가능한 도구 목록 제공</li>
<li>클라이언트가 이를 Tool Use 형식으로 변환하여 Claude에게 전달</li>
<li>Claude가 도구 사용 결정</li>
<li>클라이언트가 MCP 서버를 통해 도구 실행</li>
<li>결과를 Claude에게 반환</li>
</ol>
</div>

<h3 id="api-integration">직접 API 통합과의 비교</h3>

<div class="code-block">
<div class="code-header">
<span class="language">비교</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="cmt">// 직접 API 통합 (각 클라이언트에서 반복)</span>
<span class="kw">class</span> <span class="type">GitHubIntegration</span> {
  <span class="kw">constructor</span>(token) {
    <span class="kw">this</span>.token = token;
  }

  <span class="kw">async</span> <span class="fn">listIssues</span>(repo) {
    <span class="kw">const</span> response = <span class="kw">await</span> <span class="fn">fetch</span>(`https://api.github.com/repos/${repo}/issues`, {
      headers: { Authorization: `token ${<span class="kw">this</span>.token}` }
    });
    <span class="kw">return</span> response.<span class="fn">json</span>();
  }

  <span class="cmt">// 수십 개의 메서드...</span>
}

<span class="cmt">// ─────────────────────────────────────</span>

<span class="cmt">// MCP 방식 (한 번만 작성, 모든 클라이언트에서 재사용)</span>
<span class="kw">const</span> githubServer = <span class="kw">await</span> client.<span class="fn">connect</span>(<span class="str">"github-mcp-server"</span>);

<span class="cmt">// 모든 GitHub 기능을 표준 인터페이스로 사용</span>
<span class="kw">const</span> issues = <span class="kw">await</span> client.<span class="fn">callTool</span>(<span class="str">"github_list_issues"</span>, {
  repo: <span class="str">"anthropics/anthropic-sdk-python"</span>
});
</code></pre>
</div>
</section>

<section class="content-section">
<h2 id="protocol-overview">프로토콜 개요</h2>

<h3 id="json-rpc">JSON-RPC 2.0</h3>

<p>MCP는 <a href="https://www.jsonrpc.org/specification" target="_blank">JSON-RPC 2.0</a> 표준을 기반으로 합니다.</p>

<div class="code-block">
<div class="code-header">
<span class="language">JSON</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="cmt">// 요청 메시지</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">1</span>,
  <span class="str">"method"</span>: <span class="str">"tools/call"</span>,
  <span class="str">"params"</span>: {
    <span class="str">"name"</span>: <span class="str">"read_file"</span>,
    <span class="str">"arguments"</span>: {
      <span class="str">"path"</span>: <span class="str">"/home/user/example.txt"</span>
    }
  }
}

<span class="cmt">// 응답 메시지</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">1</span>,
  <span class="str">"result"</span>: {
    <span class="str">"content"</span>: [
      {
        <span class="str">"type"</span>: <span class="str">"text"</span>,
        <span class="str">"text"</span>: <span class="str">"Hello, MCP!"</span>
      }
    ]
  }
}

<span class="cmt">// 에러 응답</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">1</span>,
  <span class="str">"error"</span>: {
    <span class="str">"code"</span>: <span class="num">-32602</span>,
    <span class="str">"message"</span>: <span class="str">"Invalid params"</span>,
    <span class="str">"data"</span>: {
      <span class="str">"details"</span>: <span class="str">"File not found"</span>
    }
  }
}
</code></pre>
</div>

<h3 id="message-types">메시지 유형</h3>

<table>
<thead>
<tr>
<th>유형</th>
<th>설명</th>
<th>예제</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Request</strong></td>
<td>클라이언트 → 서버 요청</td>
<td><code>tools/list</code>, <code>tools/call</code></td>
</tr>
<tr>
<td><strong>Response</strong></td>
<td>서버 → 클라이언트 응답</td>
<td>성공 시 <code>result</code>, 실패 시 <code>error</code></td>
</tr>
<tr>
<td><strong>Notification</strong></td>
<td>응답 불필요한 알림</td>
<td><code>notifications/progress</code></td>
</tr>
</tbody>
</table>

<h3 id="core-methods">핵심 메서드</h3>

<h4>1. 초기화</h4>

<div class="code-block">
<div class="code-header">
<span class="language">JSON</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="cmt">// initialize 요청</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">0</span>,
  <span class="str">"method"</span>: <span class="str">"initialize"</span>,
  <span class="str">"params"</span>: {
    <span class="str">"protocolVersion"</span>: <span class="str">"2024-11-05"</span>,
    <span class="str">"clientInfo"</span>: {
      <span class="str">"name"</span>: <span class="str">"Claude Desktop"</span>,
      <span class="str">"version"</span>: <span class="str">"1.0.0"</span>
    },
    <span class="str">"capabilities"</span>: {
      <span class="str">"tools"</span>: {}
    }
  }
}

<span class="cmt">// initialize 응답</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">0</span>,
  <span class="str">"result"</span>: {
    <span class="str">"protocolVersion"</span>: <span class="str">"2024-11-05"</span>,
    <span class="str">"serverInfo"</span>: {
      <span class="str">"name"</span>: <span class="str">"filesystem-server"</span>,
      <span class="str">"version"</span>: <span class="str">"1.0.0"</span>
    },
    <span class="str">"capabilities"</span>: {
      <span class="str">"tools"</span>: {},
      <span class="str">"resources"</span>: {}
    }
  }
}
</code></pre>
</div>

<h4>2. 도구 관련</h4>

<div class="code-block">
<div class="code-header">
<span class="language">JSON</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="cmt">// tools/list - 도구 목록 조회</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">1</span>,
  <span class="str">"method"</span>: <span class="str">"tools/list"</span>
}

<span class="cmt">// 응답</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">1</span>,
  <span class="str">"result"</span>: {
    <span class="str">"tools"</span>: [
      {
        <span class="str">"name"</span>: <span class="str">"read_file"</span>,
        <span class="str">"description"</span>: <span class="str">"파일 내용을 읽습니다"</span>,
        <span class="str">"inputSchema"</span>: {
          <span class="str">"type"</span>: <span class="str">"object"</span>,
          <span class="str">"properties"</span>: {
            <span class="str">"path"</span>: {
              <span class="str">"type"</span>: <span class="str">"string"</span>,
              <span class="str">"description"</span>: <span class="str">"파일 경로"</span>
            }
          },
          <span class="str">"required"</span>: [<span class="str">"path"</span>]
        }
      }
    ]
  }
}

<span class="cmt">// tools/call - 도구 실행</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">2</span>,
  <span class="str">"method"</span>: <span class="str">"tools/call"</span>,
  <span class="str">"params"</span>: {
    <span class="str">"name"</span>: <span class="str">"read_file"</span>,
    <span class="str">"arguments"</span>: {
      <span class="str">"path"</span>: <span class="str">"/etc/hosts"</span>
    }
  }
}
</code></pre>
</div>

<h4>3. 리소스 관련</h4>

<div class="code-block">
<div class="code-header">
<span class="language">JSON</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="cmt">// resources/list - 리소스 목록</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">3</span>,
  <span class="str">"method"</span>: <span class="str">"resources/list"</span>
}

<span class="cmt">// resources/read - 리소스 읽기</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">4</span>,
  <span class="str">"method"</span>: <span class="str">"resources/read"</span>,
  <span class="str">"params"</span>: {
    <span class="str">"uri"</span>: <span class="str">"file:///path/to/document.txt"</span>
  }
}
</code></pre>
</div>

<h4>4. 프롬프트 관련</h4>

<div class="code-block">
<div class="code-header">
<span class="language">JSON</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="cmt">// prompts/list - 프롬프트 목록</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">5</span>,
  <span class="str">"method"</span>: <span class="str">"prompts/list"</span>
}

<span class="cmt">// prompts/get - 프롬프트 가져오기</span>
{
  <span class="str">"jsonrpc"</span>: <span class="str">"2.0"</span>,
  <span class="str">"id"</span>: <span class="num">6</span>,
  <span class="str">"method"</span>: <span class="str">"prompts/get"</span>,
  <span class="str">"params"</span>: {
    <span class="str">"name"</span>: <span class="str">"code-review"</span>,
    <span class="str">"arguments"</span>: {
      <span class="str">"language"</span>: <span class="str">"python"</span>
    }
  }
}
</code></pre>
</div>
</section>

<section class="content-section">
<h2 id="transport">전송 계층</h2>

<h3 id="stdio-transport">stdio 전송</h3>

<p>가장 일반적인 전송 방식으로, 서버를 자식 프로세스로 실행하고 표준 입출력으로 통신합니다.</p>

<div class="code-block">
<div class="code-header">
<span class="language">TypeScript</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="kw">import</span> { StdioClientTransport } <span class="kw">from</span> <span class="str">"@modelcontextprotocol/sdk/client/stdio.js"</span>;

<span class="cmt">// Python 서버 실행</span>
<span class="kw">const</span> transport = <span class="kw">new</span> <span class="fn">StdioClientTransport</span>({
  command: <span class="str">"python"</span>,
  args: [<span class="str">"-m"</span>, <span class="str">"mcp_server_filesystem"</span>],
  env: {
    ...process.env,
    <span class="str">"PYTHONPATH"</span>: <span class="str">"/path/to/server"</span>
  }
});

<span class="kw">await</span> client.<span class="fn">connect</span>(transport);
</code></pre>
</div>

<p><strong>장점:</strong></p>
<ul>
<li>간단한 설정</li>
<li>로컬 프로세스로 보안 우수</li>
<li>플랫폼 독립적</li>
</ul>

<p><strong>단점:</strong></p>
<ul>
<li>원격 서버 지원 불가</li>
<li>프로세스 생명주기 관리 필요</li>
</ul>

<h3 id="http-sse-transport">HTTP SSE 전송</h3>

<p>Server-Sent Events를 사용한 HTTP 기반 전송입니다.</p>

<div class="code-block">
<div class="code-header">
<span class="language">TypeScript</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="kw">import</span> { SSEClientTransport } <span class="kw">from</span> <span class="str">"@modelcontextprotocol/sdk/client/sse.js"</span>;

<span class="cmt">// 원격 서버 연결</span>
<span class="kw">const</span> transport = <span class="kw">new</span> <span class="fn">SSEClientTransport</span>(
  <span class="kw">new</span> <span class="fn">URL</span>(<span class="str">"https://mcp-server.example.com/sse"</span>)
);

<span class="kw">await</span> client.<span class="fn">connect</span>(transport);
</code></pre>
</div>

<p><strong>장점:</strong></p>
<ul>
<li>원격 서버 지원</li>
<li>HTTP 표준 기술 활용</li>
<li>방화벽 친화적</li>
</ul>

<p><strong>단점:</strong></p>
<ul>
<li>단방향 스트리밍 (서버 → 클라이언트)</li>
<li>네트워크 오버헤드</li>
</ul>

<h3 id="transport-comparison">전송 방식 비교</h3>

<table>
<thead>
<tr>
<th>특성</th>
<th>stdio</th>
<th>HTTP SSE</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>위치</strong></td>
<td>로컬</td>
<td>로컬/원격</td>
</tr>
<tr>
<td><strong>설정 복잡도</strong></td>
<td>낮음</td>
<td>중간</td>
</tr>
<tr>
<td><strong>지연시간</strong></td>
<td>매우 낮음</td>
<td>낮음~중간</td>
</tr>
<tr>
<td><strong>보안</strong></td>
<td>프로세스 격리</td>
<td>TLS, 인증 필요</td>
</tr>
<tr>
<td><strong>확장성</strong></td>
<td>제한적</td>
<td>우수</td>
</tr>
</tbody>
</table>
</section>

<section class="content-section">
<h2 id="core-concepts">핵심 개념</h2>

<h3 id="tools">Tools (도구)</h3>

<p>클라이언트가 호출할 수 있는 함수나 작업입니다.</p>

<div class="code-block">
<div class="code-header">
<span class="language">Python</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="pp">@server.tool()</span>
<span class="kw">async</span> <span class="kw">def</span> <span class="fn">calculate</span>(expression: <span class="type">str</span>) -> <span class="type">str</span>:
    <span class="str">"""수학 표현식을 계산합니다.

    Args:
        expression: 계산할 수학 표현식 (예: "2 + 2")

    Returns:
        계산 결과
    """</span>
    <span class="kw">try</span>:
        result = <span class="fn">eval</span>(expression)
        <span class="kw">return</span> <span class="type">str</span>(result)
    <span class="kw">except</span> <span class="type">Exception</span> <span class="kw">as</span> e:
        <span class="kw">return</span> <span class="type">f</span><span class="str">"에러: {e}"</span>
</code></pre>
</div>

<p><strong>특징:</strong></p>
<ul>
<li>실행 가능한 작업 (부작용 가능)</li>
<li>입력 스키마 정의 필요</li>
<li>동기/비동기 실행 지원</li>
</ul>

<h3 id="resources">Resources (리소스)</h3>

<p>서버가 제공하는 데이터나 컨텐츠입니다.</p>

<div class="code-block">
<div class="code-header">
<span class="language">Python</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="pp">@server.resource(<span class="str">"file://{path}"</span>)</span>
<span class="kw">async</span> <span class="kw">def</span> <span class="fn">read_file_resource</span>(path: <span class="type">str</span>) -> <span class="type">str</span>:
    <span class="str">"""파일을 리소스로 제공합니다."""</span>
    <span class="kw">with</span> <span class="fn">open</span>(path, <span class="str">'r'</span>) <span class="kw">as</span> f:
        <span class="kw">return</span> f.read()
</code></pre>
</div>

<p><strong>특징:</strong></p>
<ul>
<li>읽기 전용 데이터</li>
<li>URI로 식별</li>
<li>컨텍스트 제공 목적</li>
</ul>

<h3 id="prompts">Prompts (프롬프트)</h3>

<p>재사용 가능한 프롬프트 템플릿입니다.</p>

<div class="code-block">
<div class="code-header">
<span class="language">Python</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="pp">@server.prompt()</span>
<span class="kw">async</span> <span class="kw">def</span> <span class="fn">code_review_prompt</span>(language: <span class="type">str</span>, code: <span class="type">str</span>) -> <span class="type">str</span>:
    <span class="str">"""코드 리뷰 프롬프트를 생성합니다."""</span>
    <span class="kw">return</span> <span class="type">f</span><span class="str">"""다음 {language} 코드를 리뷰해주세요:

```{language}
{code}
```

다음 관점에서 검토해주세요:
1. 코드 품질
2. 성능
3. 보안
4. 베스트 프랙티스
"""</span>
</code></pre>
</div>

<p><strong>특징:</strong></p>
<ul>
<li>템플릿 기반</li>
<li>매개변수화 가능</li>
<li>재사용성 높음</li>
</ul>

<h3 id="concept-comparison">개념 비교</h3>

<table>
<thead>
<tr>
<th>개념</th>
<th>목적</th>
<th>읽기/쓰기</th>
<th>예제</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Tools</strong></td>
<td>작업 수행</td>
<td>읽기/쓰기</td>
<td>파일 쓰기, 이메일 전송</td>
</tr>
<tr>
<td><strong>Resources</strong></td>
<td>데이터 제공</td>
<td>읽기 전용</td>
<td>파일 내용, DB 레코드</td>
</tr>
<tr>
<td><strong>Prompts</strong></td>
<td>프롬프트 템플릿</td>
<td>읽기 전용</td>
<td>코드 리뷰, 번역</td>
</tr>
</tbody>
</table>
</section>

<section class="content-section">
<h2 id="lifecycle">연결 생명주기</h2>

<svg viewBox="0 0 700 500" style="max-width: 100%; height: auto; background: var(--code-bg); border-radius: 8px; padding: 20px;">
  <!-- Timeline -->
  <line x1="50" y1="50" x2="50" y2="450" stroke="var(--primary-color)" stroke-width="3"/>

  <!-- Phase 1: Connection -->
  <circle cx="50" cy="80" r="8" fill="var(--primary-color)"/>
  <text x="70" y="85" fill="var(--text-color)" font-size="14" font-weight="bold">1. 연결 (Connection)</text>
  <rect x="70" y="95" width="580" height="60" fill="var(--info-color)" opacity="0.1" stroke="var(--info-color)" stroke-width="1" rx="4"/>
  <text x="85" y="115" fill="var(--text-color)" font-size="11">• 전송 계층 초기화 (stdio/HTTP SSE)</text>
  <text x="85" y="135" fill="var(--text-color)" font-size="11">• 서버 프로세스 시작 또는 네트워크 연결</text>

  <!-- Phase 2: Initialization -->
  <circle cx="50" cy="180" r="8" fill="var(--primary-color)"/>
  <text x="70" y="185" fill="var(--text-color)" font-size="14" font-weight="bold">2. 초기화 (Initialization)</text>
  <rect x="70" y="195" width="580" height="80" fill="var(--info-color)" opacity="0.1" stroke="var(--info-color)" stroke-width="1" rx="4"/>
  <text x="85" y="215" fill="var(--text-color)" font-size="11">• 클라이언트: initialize 요청 (프로토콜 버전, capabilities)</text>
  <text x="85" y="235" fill="var(--text-color)" font-size="11">• 서버: initialize 응답 (서버 정보, capabilities)</text>
  <text x="85" y="255" fill="var(--text-color)" font-size="11">• 클라이언트: initialized 알림 전송</text>

  <!-- Phase 3: Operation -->
  <circle cx="50" cy="300" r="8" fill="var(--primary-color)"/>
  <text x="70" y="305" fill="var(--text-color)" font-size="14" font-weight="bold">3. 작업 (Operation)</text>
  <rect x="70" y="315" width="580" height="80" fill="var(--info-color)" opacity="0.1" stroke="var(--info-color)" stroke-width="1" rx="4"/>
  <text x="85" y="335" fill="var(--text-color)" font-size="11">• tools/list, resources/list, prompts/list</text>
  <text x="85" y="355" fill="var(--text-color)" font-size="11">• tools/call, resources/read, prompts/get</text>
  <text x="85" y="375" fill="var(--text-color)" font-size="11">• 반복 호출 가능</text>

  <!-- Phase 4: Shutdown -->
  <circle cx="50" cy="420" r="8" fill="var(--primary-color)"/>
  <text x="70" y="425" fill="var(--text-color)" font-size="14" font-weight="bold">4. 종료 (Shutdown)</text>
  <rect x="70" y="435" width="580" height="60" fill="var(--info-color)" opacity="0.1" stroke="var(--info-color)" stroke-width="1" rx="4"/>
  <text x="85" y="455" fill="var(--text-color)" font-size="11">• 클라이언트: 연결 해제</text>
  <text x="85" y="475" fill="var(--text-color)" font-size="11">• 서버: 리소스 정리, 프로세스 종료</text>
</svg>

<div class="code-block">
<div class="code-header">
<span class="language">TypeScript</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="kw">import</span> { Client } <span class="kw">from</span> <span class="str">"@modelcontextprotocol/sdk/client/index.js"</span>;
<span class="kw">import</span> { StdioClientTransport } <span class="kw">from</span> <span class="str">"@modelcontextprotocol/sdk/client/stdio.js"</span>;

<span class="kw">async</span> <span class="kw">function</span> <span class="fn">main</span>() {
  <span class="cmt">// 1. 클라이언트 생성</span>
  <span class="kw">const</span> client = <span class="kw">new</span> <span class="fn">Client</span>({
    name: <span class="str">"example-client"</span>,
    version: <span class="str">"1.0.0"</span>
  }, {
    capabilities: {
      tools: {}
    }
  });

  <span class="cmt">// 2. 전송 계층 설정</span>
  <span class="kw">const</span> transport = <span class="kw">new</span> <span class="fn">StdioClientTransport</span>({
    command: <span class="str">"python"</span>,
    args: [<span class="str">"server.py"</span>]
  });

  <span class="kw">try</span> {
    <span class="cmt">// 3. 연결 및 초기화</span>
    <span class="kw">await</span> client.<span class="fn">connect</span>(transport);
    console.<span class="fn">log</span>(<span class="str">"연결 성공!"</span>);

    <span class="cmt">// 4. 작업 수행</span>
    <span class="kw">const</span> tools = <span class="kw">await</span> client.<span class="fn">listTools</span>();
    console.<span class="fn">log</span>(<span class="str">"사용 가능한 도구:"</span>, tools);

    <span class="kw">const</span> result = <span class="kw">await</span> client.<span class="fn">callTool</span>(<span class="str">"read_file"</span>, {
      path: <span class="str">"/etc/hosts"</span>
    });
    console.<span class="fn">log</span>(<span class="str">"결과:"</span>, result);

  } <span class="kw">finally</span> {
    <span class="cmt">// 5. 종료</span>
    <span class="kw">await</span> client.<span class="fn">close</span>();
    console.<span class="fn">log</span>(<span class="str">"연결 종료"</span>);
  }
}

<span class="fn">main</span>().<span class="fn">catch</span>(console.error);
</code></pre>
</div>
</section>

<section class="content-section">
<h2 id="capabilities">Capabilities (기능 선언)</h2>

<p>클라이언트와 서버는 초기화 시 지원하는 기능을 선언합니다.</p>

<h3 id="client-capabilities">클라이언트 Capabilities</h3>

<div class="code-block">
<div class="code-header">
<span class="language">JSON</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code>{
  <span class="str">"capabilities"</span>: {
    <span class="str">"tools"</span>: {},                    <span class="cmt">// 도구 호출 지원</span>
    <span class="str">"resources"</span>: {
      <span class="str">"subscribe"</span>: <span class="kw">true</span>          <span class="cmt">// 리소스 변경 구독</span>
    },
    <span class="str">"prompts"</span>: {},                  <span class="cmt">// 프롬프트 사용 지원</span>
    <span class="str">"sampling"</span>: {}                  <span class="cmt">// 샘플링 요청 수신 (서버→클라이언트)</span>
  }
}
</code></pre>
</div>

<h3 id="server-capabilities">서버 Capabilities</h3>

<div class="code-block">
<div class="code-header">
<span class="language">JSON</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code>{
  <span class="str">"capabilities"</span>: {
    <span class="str">"tools"</span>: {
      <span class="str">"listChanged"</span>: <span class="kw">true</span>        <span class="cmt">// 도구 목록 변경 알림</span>
    },
    <span class="str">"resources"</span>: {
      <span class="str">"subscribe"</span>: <span class="kw">true</span>,         <span class="cmt">// 리소스 구독 지원</span>
      <span class="str">"listChanged"</span>: <span class="kw">true</span>        <span class="cmt">// 리소스 목록 변경 알림</span>
    },
    <span class="str">"prompts"</span>: {
      <span class="str">"listChanged"</span>: <span class="kw">true</span>        <span class="cmt">// 프롬프트 목록 변경 알림</span>
    },
    <span class="str">"logging"</span>: {}                   <span class="cmt">// 로그 메시지 전송</span>
  }
}
</code></pre>
</div>

<div class="info-box tip">
<strong>협상 메커니즘</strong>
<p>클라이언트와 서버는 초기화 시 capabilities를 교환하여 공통으로 지원하는 기능만 사용합니다. 예를 들어, 서버가 <code>resources.subscribe</code>를 지원하지 않으면 클라이언트는 리소스 구독 기능을 사용할 수 없습니다.</p>
</div>
</section>

<section class="content-section">
<h2 id="error-handling">에러 처리</h2>

<h3 id="standard-errors">표준 에러 코드</h3>

<table>
<thead>
<tr>
<th>코드</th>
<th>의미</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>-32700</strong></td>
<td>Parse error</td>
<td>JSON 파싱 실패</td>
</tr>
<tr>
<td><strong>-32600</strong></td>
<td>Invalid request</td>
<td>잘못된 요청 형식</td>
</tr>
<tr>
<td><strong>-32601</strong></td>
<td>Method not found</td>
<td>지원하지 않는 메서드</td>
</tr>
<tr>
<td><strong>-32602</strong></td>
<td>Invalid params</td>
<td>잘못된 매개변수</td>
</tr>
<tr>
<td><strong>-32603</strong></td>
<td>Internal error</td>
<td>내부 서버 오류</td>
</tr>
</tbody>
</table>

<h3 id="custom-errors">커스텀 에러</h3>

<div class="code-block">
<div class="code-header">
<span class="language">Python</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="kw">from</span> mcp.server <span class="kw">import</span> McpError

<span class="pp">@server.tool()</span>
<span class="kw">async</span> <span class="kw">def</span> <span class="fn">read_file</span>(path: <span class="type">str</span>) -> <span class="type">str</span>:
    <span class="kw">if</span> <span class="kw">not</span> os.path.<span class="fn">exists</span>(path):
        <span class="kw">raise</span> <span class="fn">McpError</span>(
            code=<span class="num">-32001</span>,
            message=<span class="str">"File not found"</span>,
            data={<span class="str">"path"</span>: path}
        )

    <span class="kw">with</span> <span class="fn">open</span>(path, <span class="str">'r'</span>) <span class="kw">as</span> f:
        <span class="kw">return</span> f.read()
</code></pre>
</div>

<h3 id="client-error-handling">클라이언트 에러 처리</h3>

<div class="code-block">
<div class="code-header">
<span class="language">TypeScript</span>
<button class="copy-btn" aria-label="Copy code">Copy</button>
</div>
<pre><code><span class="kw">try</span> {
  <span class="kw">const</span> result = <span class="kw">await</span> client.<span class="fn">callTool</span>(<span class="str">"read_file"</span>, {
    path: <span class="str">"/nonexistent.txt"</span>
  });
} <span class="kw">catch</span> (error) {
  <span class="kw">if</span> (error.code === <span class="num">-32001</span>) {
    console.<span class="fn">error</span>(<span class="str">"파일을 찾을 수 없습니다:"</span>, error.data.path);
  } <span class="kw">else</span> {
    console.<span class="fn">error</span>(<span class="str">"예상치 못한 오류:"</span>, error.message);
  }
}
</code></pre>
</div>
</section>

<section class="content-section">
<h2 id="next-steps">다음 단계</h2>

<div class="info-box tip">
<strong>학습 경로</strong>
<ol>
<li><strong>MCP 서버 개발:</strong> <a href="mcp-servers.html">MCP 서버 개발 가이드</a>에서 Python과 TypeScript로 서버를 만드는 방법 학습</li>
<li><strong>MCP 클라이언트:</strong> <a href="mcp-clients.html">MCP 클라이언트 가이드</a>에서 Claude Desktop, Claude CLI 설정 방법 학습</li>
<li><strong>실전 예제:</strong> <a href="mcp-examples.html">MCP 실전 예제</a>에서 파일 시스템, 데이터베이스, API 통합 예제 확인</li>
<li><strong>생태계 탐색:</strong> <a href="mcp-ecosystem.html">MCP 생태계</a>에서 공개 서버 및 리소스 확인</li>
<li><strong>고급 주제:</strong> <a href="mcp-advanced.html">MCP 고급 주제</a>에서 보안, 성능, 배포 전략 학습</li>
</ol>
</div>

<h3 id="resources-links">추가 리소스</h3>

<ul>
<li><a href="https://modelcontextprotocol.io" target="_blank">공식 MCP 사이트</a></li>
<li><a href="https://github.com/modelcontextprotocol" target="_blank">MCP GitHub 조직</a></li>
<li><a href="https://spec.modelcontextprotocol.io" target="_blank">MCP 프로토콜 사양</a></li>
<li><a href="https://github.com/modelcontextprotocol/servers" target="_blank">공식 MCP 서버 저장소</a></li>
</ul>
</section>

<section class="content-section">
  <h2 id="summary">핵심 정리</h2>
  <ul>
    <li>MCP 개념의 핵심 개념과 흐름을 정리합니다.</li>
    <li>MCP란 무엇인가?를 단계별로 이해합니다.</li>
    <li>실전 적용 시 기준과 주의점을 확인합니다.</li>
  </ul>
</section>

<section class="content-section">
  <h2 id="practice-tips">실무 팁</h2>
  <ul>
    <li>입력/출력 예시를 고정해 재현성을 확보하세요.</li>
    <li>MCP 개념 범위를 작게 잡고 단계적으로 확장하세요.</li>
    <li>MCP란 무엇인가? 조건을 문서화해 대응 시간을 줄이세요.</li>
  </ul>
</section>
<nav class="page-nav"></nav>
</main>

<aside class="inline-toc">
  <div class="toc-title">목차</div>
  <div class="toc-nav"></div>
</aside>
<footer class="site-footer"></footer>
</div>

<script src="../js/main.js"></script>
</body>
</html>
